(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promoter-pages-material"],{"31bf":function(e,t,a){(function(a){var n,o,i;(function(a,r){o=[],n=r,i="function"===typeof n?n.apply(t,o):n,void 0===i||(e.exports=i)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){c(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,s=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,a){var s=r.URL||r.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):o(c.href)?n(e,t,a):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),a);else if(o(e))n(e,a,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,t,a,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,a);var i="application/octet-stream"===e.type,c=/constructor/i.test(r.HTMLElement)||r.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||i&&c||s)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var e=h.result;e=d?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},h.readAsDataURL(e)}else{var l=r.URL||r.webkitURL,u=l.createObjectURL(e);o?o.location=u:location.href=u,o=null,setTimeout((function(){l.revokeObjectURL(u)}),4e4)}});r.saveAs=c.saveAs=c,e.exports=c}))}).call(this,a("2409"))},3329:function(e,t,a){"use strict";a.r(t);var n=a("abf3"),o=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"34bc":function(e,t,a){var n=a("35be");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("b41b").default;o("b185ecc4",n,!0,{sourceMap:!1,shadowMode:!1})},"35be":function(e,t,a){var n=a("a1a8");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* start--主题色--start */\n/* end--主题色--end */.font-family-sc[data-v-8ae8e6d8], .he-search .he-button[data-v-8ae8e6d8], .he-switch .flex-sub[data-v-8ae8e6d8], .he-item .content[data-v-8ae8e6d8], .he-item .content .cu-btn[data-v-8ae8e6d8], .he-item .he-footer .he-jump[data-v-8ae8e6d8], .he-item .he-footer .he-share--count[data-v-8ae8e6d8], .he-item .he-footer .he-btn[data-v-8ae8e6d8]{font-family:PingFang SC}.font-family-din[data-v-8ae8e6d8]{font-family:DIN}.he-card[data-v-8ae8e6d8]{background-color:#fff;padding:%?32?%;border-radius:%?16?%;margin-bottom:%?16?%}.iconbtn_arrow[data-v-8ae8e6d8]{font-size:%?18?%;color:#bebebe}[data-v-8ae8e6d8] .input-placeholder{font-family:PingFang SC;font-size:%?26?%;font-weight:500;color:#999}.he-sticky[data-v-8ae8e6d8]{position:-webkit-sticky;position:sticky;top:0;z-index:10}.he-search[data-v-8ae8e6d8]{width:%?750?%;height:%?112?%;padding:%?24?% %?32?%;position:relative;margin-bottom:0}.he-search .he-input[data-v-8ae8e6d8]{width:%?686?%;height:%?64?%;background:#f7f7f7;border-radius:%?32?%;padding-left:%?32?%}.he-search .he-button[data-v-8ae8e6d8]{position:absolute;top:50%;width:%?686?%;background:transparent;left:%?64?%;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:10;font-size:%?28?%;padding:0;font-weight:500;color:#999}.he-search .he-button .iconsearchbar_search[data-v-8ae8e6d8]{font-size:%?28?%;margin-right:%?16?%}.he-switch[data-v-8ae8e6d8]{padding:0 %?32?%;height:%?114?%;text-align:center;position:relative;background:#f5f5f5}.he-switch .he-line[data-v-8ae8e6d8]{width:%?52?%;height:%?4?%;position:absolute;bottom:%?24?%}[data-theme="red_theme"] .he-switch .he-line[data-v-8ae8e6d8]{background-color:#e60b30!important}[data-theme="purple_theme"] .he-switch .he-line[data-v-8ae8e6d8]{background-color:#8f2df3!important}[data-theme="blue_theme"] .he-switch .he-line[data-v-8ae8e6d8]{background-color:#33a7ff!important}[data-theme="green_theme"] .he-switch .he-line[data-v-8ae8e6d8]{background-color:#1fc551!important}[data-theme="orange_theme"] .he-switch .he-line[data-v-8ae8e6d8]{background-color:#ff7f00!important}[data-theme="golden_theme"] .he-switch .he-line[data-v-8ae8e6d8]{background-color:#caa45a!important}[data-theme="red_theme"] .he-switch .active[data-v-8ae8e6d8]{color:#e60b30!important}[data-theme="purple_theme"] .he-switch .active[data-v-8ae8e6d8]{color:#8f2df3!important}[data-theme="blue_theme"] .he-switch .active[data-v-8ae8e6d8]{color:#33a7ff!important}[data-theme="green_theme"] .he-switch .active[data-v-8ae8e6d8]{color:#1fc551!important}[data-theme="orange_theme"] .he-switch .active[data-v-8ae8e6d8]{color:#ff7f00!important}[data-theme="golden_theme"] .he-switch .active[data-v-8ae8e6d8]{color:#caa45a!important}.he-switch .flex-sub[data-v-8ae8e6d8]{font-size:%?28?%;font-weight:500;line-height:%?114?%;-webkit-transition-delay:.1s;transition-delay:.1s}.he-list[data-v-8ae8e6d8]{width:%?750?%;background:#fff;border-radius:%?16?% %?16?% 0 0;padding:0 %?32?% 0 %?32?%;overflow:hidden;min-height:calc(100vh - %?226?%)}.he-item[data-v-8ae8e6d8]{border-bottom:%?1?% solid #e5e5e5;padding:%?45?% 0 %?24?% 0}.he-item .content[data-v-8ae8e6d8]{font-size:%?30?%;font-weight:500;color:#222;line-height:%?40?%;margin-bottom:%?24?%;word-break:break-all;position:relative}.he-item .content .block[data-v-8ae8e6d8]{position:absolute;bottom:0;right:0;background-color:#fff}.he-item .content .cu-btn[data-v-8ae8e6d8]{height:auto;padding:0;font-weight:500;font-size:%?30?%;color:#3273ea;line-height:%?40?%;background-color:#fff}.he-item .content .unfold[data-v-8ae8e6d8]{display:inline-block}.he-item .he-images[data-v-8ae8e6d8]{margin:%?24?% 0 %?8?% 0}.he-item .he-images .he-img[data-v-8ae8e6d8]{margin-bottom:%?16?%}.he-item .he-images .he-img[data-v-8ae8e6d8]:not(:nth-child(3n)){margin-right:%?16?%}.he-item .he-video[data-v-8ae8e6d8]{margin:0 0 %?24?% 0}.he-item .he-footer[data-v-8ae8e6d8]{height:%?80?%}.he-item .he-footer .he-jump[data-v-8ae8e6d8]{padding:0;font-size:%?28?%;font-weight:500;color:#3273ea;background-color:initial;margin-right:%?24?%}.he-item .he-footer .he-share--count[data-v-8ae8e6d8]{font-size:%?28?%;font-weight:500;color:#ccc}.he-item .he-footer .he-btn[data-v-8ae8e6d8]{font-size:%?24?%;font-weight:500;border:%?1?% solid transparent;background:#fff;border-radius:%?28?%;padding:0 %?24?%;height:%?56?%;line-height:%?54?%}[data-theme="red_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{color:#e60b30!important}[data-theme="purple_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{color:#8f2df3!important}[data-theme="blue_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{color:#33a7ff!important}[data-theme="green_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{color:#1fc551!important}[data-theme="orange_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{color:#ff7f00!important}[data-theme="golden_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{color:#caa45a!important}[data-theme="red_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{border-color:#e60b30!important}[data-theme="purple_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{border-color:#8f2df3!important}[data-theme="blue_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{border-color:#33a7ff!important}[data-theme="green_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{border-color:#1fc551!important}[data-theme="orange_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{border-color:#ff7f00!important}[data-theme="golden_theme"] .he-item .he-footer .he-btn[data-v-8ae8e6d8]{border-color:#caa45a!important}.he-item .he-footer .he-btn[data-v-8ae8e6d8]:nth-child(2){margin-left:%?16?%}',""]),e.exports=t},"99c4":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"he-page-content",attrs:{"data-theme":e.theme}},[a("v-uni-view",{staticClass:"he-sticky"},[a("v-uni-view",{staticClass:"he-search he-card"},[a("v-uni-input",{staticClass:"he-input",attrs:{type:"text",focus:e.showInput},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.blurInput.apply(void 0,arguments)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),e.showInput?e._e():a("v-uni-button",{staticClass:"cu-btn he-button flex align-center justify-start",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openInput.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont iconsearchbar_search"}),a("v-uni-text",[e._v("输入商品名称/素材文案搜索")])],1)],1),a("v-uni-view",{staticClass:"he-switch flex"},[a("v-uni-view",{staticClass:"flex-sub",class:{active:0===e.currentIndex},attrs:{id:"he-switch--0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickTab(0)}}},[e._v("全部")]),a("v-uni-view",{staticClass:"flex-sub",class:{active:1===e.currentIndex},attrs:{id:"he-switch--1"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickTab(1)}}},[e._v("图片")]),a("v-uni-view",{staticClass:"flex-sub",class:{active:2===e.currentIndex},attrs:{id:"he-switch--2"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickTab(2)}}},[e._v("视频")]),a("v-uni-view",{staticClass:"he-line",style:[e.tabBarStyle]})],1)],1),a("v-uni-view",{staticClass:"he-list"},[e._l(e.list,(function(t,n){return a("v-uni-view",{key:n,staticClass:"he-item"},[a("v-uni-view",{class:[{"he-line-4":!t.unfold},"content"]},[e._v(e._s(t.content)),t.too_long?[t.unfold?e._e():a("v-uni-view",{staticClass:"block"},[e._v("..."),a("v-uni-button",{staticClass:"cu-btn",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.expandCollapse(t)}}},[e._v("展开")])],1),a("v-uni-button",{staticClass:"cu-btn unfold",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.expandCollapse(t)}}},[e._v("收起")])]:e._e()],2),1===t.type?a("v-uni-view",{staticClass:"he-images flex flex-wrap"},e._l(t.pic_list,(function(e,n){return a("he-image",{key:n,staticClass:"he-img",attrs:{"image-style":{borderRadius:"8rpx"},width:218,height:218,src:e,"is-preview":!0,list:t.pic_list}})})),1):2===t.type?a("v-uni-view",{staticClass:"he-video"},[a("listVideo",{attrs:{index:t.id,src:t.video_list.url,poster:t.video_cover},model:{value:e.videoCurrent,callback:function(t){e.videoCurrent=t},expression:"videoCurrent"}})],1):e._e(),a("v-uni-view",{staticClass:"flex he-footer align-center justify-between"},[a("v-uni-view",[t.goods_id?a("v-uni-button",{staticClass:"cu-btn he-jump",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.routerGoods(t.goods_id)}}},[e._v("查看商品")]):e._e(),a("v-uni-text",{staticClass:"he-share--count"},[e._v("分享"+e._s(t.share_count))])],1),a("v-uni-view",[a("v-uni-button",{staticClass:"cu-btn he-btn",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.hairpin(t)}}},[e._v("一键发圈")]),a("v-uni-button",{staticClass:"cu-btn he-btn",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.routerCreateDynamic(t)}}},[e._v("发动态")])],1)],1)],1)})),e.list.length>0?a("he-load-more",{attrs:{"margin-top":39,"margin-bottom":39,status:e.loadStatus}}):e._e(),a("v-uni-view",{staticClass:"safe-area-inset-bottom"})],2),e.isNothing?a("he-no-content-yet",{attrs:{text:"暂无相关素材"}}):e._e(),a("he-save-loading",{attrs:{title:e.loadingText},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),a("he-float-window",{attrs:{"pages-url":"promoter"}})],1)},i=[]},abf3:function(e,t,a){"use strict";var n=a("fe5c").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b5aa"),a("0d84"),a("6afd"),a("a5c9"),a("23db");var o=n(a("99a5")),i=n(a("aa66")),r=n(a("4d92")),s=n(a("dc87")),c=n(a("4376")),d=a("45b6"),h=n(a("fe9c")),l=(n(a("31bf")),{name:"material",components:{heNoContentYet:i.default,heLoadMore:r.default,heSaveLoading:s.default,listVideo:c.default,heFloatWindow:h.default},data:function(){return{content:"",scrollBarLeft:0,showInput:!1,barFirstTimeMove:!0,tabQueryInfo:[{left:uni.upx2px(32)},{left:uni.upx2px(260)},{left:uni.upx2px(488)}],currentIndex:0,tabWidth:0,list:[],loadStatus:"loadmore",isNothing:!1,loading:!1,page:{},loadingText:"",videoCurrent:null}},computed:{tabBarStyle:function(e){var t=e.barFirstTimeMove,a=e.scrollBarLeft;return{transform:"translate(".concat(a,"px, -100%)"),"transition-duration":"".concat(t?0:"0.5s")}}},onLoad:function(){this.init()},methods:{init:function(){var e=this;this.scrollByIndex(),this.getList().then((function(){e.isNothing=0===e.list.length}))},getList:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d.promotermaterial)(e.page.current,e.currentIndex,e.content);case 3:return a=t.sent,n=a.data,o=a.pagination,n.forEach((function(e){var t=4*uni.upx2px(686);t-uni.upx2px(30)*e.content.length<0&&(e.too_long=!0,e.unfold=!1)})),e.page=o,e.list=e.list.concat(n),o.current===o.pageCount&&(e.loadStatus="nomore"),t.abrupt("return",!0);case 12:t.prev=12,t.t0=t["catch"](0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})))()},expandCollapse:function(e){e.unfold=!e.unfold},blurInput:function(){var e=this;this.list=[],this.$h.test.isEmpty(this.content)&&(this.showInput=!1),this.page.current=1,this.getList().then((function(){e.isNothing=0===e.list.length}))},openInput:function(){this.showInput=!this.showInput,this.list=[]},clickTab:function(e){var t=this;this.currentIndex=e,this.page.current=1,this.scrollByIndex(),this.list=[],this.getList().then((function(){t.isNothing=0===t.list.length}))},scrollByIndex:function(){var e=this,t=this.tabQueryInfo[this.currentIndex];if(t){var a=t.left+uni.upx2px(228)/2;this.scrollBarLeft=a-uni.upx2px(228)/4,!0===this.barFirstTimeMove&&setTimeout((function(){e.barFirstTimeMove=!1}),100)}},routerCreateDynamic:function(e){(0,d.promotermaterialShare)(e.id).then((function(){e.share_count++})),uni.navigateTo({url:"/promoter/pages/create-dynamic?data="+JSON.stringify(e)})},hairpin:function(e){var t=this;(0,d.promotermaterialShare)(e.id).then((function(){e.share_count++})),1===e.type?(this.loadingText="正在保存图片…",t.uniCopy({content:e.content,success:function(){uni.showToast({title:"内容已复制, 请手动下载素材图片",icon:"none"})}})):2===e.type&&t.uniCopy({content:e.content,success:function(){}})},saveFile:function(e){var t=JSON.parse(JSON.stringify(e));t.splice(0,1)[0]},saveVideoFile:function(e){var t=this;uni.downloadFile({url:e.video_list.url,success:function(a){uni.saveVideoToPhotosAlbum({filePath:a.tempFilePath,success:function(){t.loading=!1,t.uniCopy({content:e.content,success:function(){uni.showToast({title:"文案已复制， 视频已保存",icon:"none",duration:2e3})}})}})},fail:function(){}})},routerGoods:function(e){uni.navigateTo({url:"/pages/goods/detail?id=".concat(e)})}},onReachBottom:function(){var e=this;this.page.pageCount>this.page.current?(this.page.current++,this.loadStatus="loading",this.getList().then((function(){e.loadStatus="loadmore"}))):this.loadStatus="nomore"}});t.default=l},d103:function(e,t,a){"use strict";a.r(t);var n=a("99c4"),o=a("3329");for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("efb3");var r,s=a("522a"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"8ae8e6d8",null,!1,n["a"],r);t["default"]=c.exports},efb3:function(e,t,a){"use strict";var n=a("34bc"),o=a.n(n);o.a}}]);