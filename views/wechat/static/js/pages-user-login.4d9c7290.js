(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-login"],{"154d":function(e,t,n){var a=n("4bad");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* start--主题色--start */\n/* end--主题色--end */.le-popup[data-v-6c1d8e69]{width:100%;height:100%}.he-box[data-v-6c1d8e69]{width:%?660?%;height:%?804?%;margin:10vh auto 0 auto;position:relative}.he-box__close[data-v-6c1d8e69]{width:%?52?%;height:%?52?%;border:%?2?% solid #fff;border-radius:50%;position:absolute;right:0;top:%?-84?%}.iconpopup_close[data-v-6c1d8e69]{font-size:%?20?%;color:#fff}.le-box-image[data-v-6c1d8e69]{height:%?252?%;width:100%;display:block}.le-content[data-v-6c1d8e69]{width:%?630?%;margin:0 auto;background:#e44;border-radius:%?0?% %?0?% %?16?% %?16?%;padding:%?32?% %?32?% 0 %?32?%}.le-content .le-body[data-v-6c1d8e69]{min-height:%?160?%;max-height:%?440?%}.le-content .he-item[data-v-6c1d8e69]{height:%?160?%;margin-bottom:%?16?%}.le-content .he-left[data-v-6c1d8e69]{width:%?217?%;height:100%;background:#fff;border-top-left-radius:%?16?%;border-bottom-left-radius:%?16?%;padding-left:%?17?%;text-align:center}.le-content .he-left .le-price[data-v-6c1d8e69]{font-size:%?66?%;font-family:PingFang SC;font-weight:700;color:#e60b30;line-height:%?52?%;margin-top:%?37?%}.le-content .he-left .le-price[data-v-6c1d8e69]::before{content:"￥";font-size:%?24?%;font-weight:500}.le-content .he-left .le-limit[data-v-6c1d8e69]{font-size:%?24?%;font-family:PingFang SC;font-weight:500;color:#e60b30;line-height:%?36?%}.le-content .he-center[data-v-6c1d8e69]{width:%?16?%;height:100%;position:relative;background-color:#fff}.le-content .he-center .he-dot[data-v-6c1d8e69]{position:absolute;width:%?16?%;height:%?16?%;border-radius:50%;background-color:#e44}.le-content .he-center .he-dot[data-v-6c1d8e69]:first-child{top:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.le-content .he-center .he-dot[data-v-6c1d8e69]:last-child{bottom:0;-webkit-transform:translateY(50%);transform:translateY(50%)}.le-content .he-center .he-line[data-v-6c1d8e69]{width:%?2?%;height:96%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-size:%?2?% %?14?%;background-repeat:repeat-y;background-image:-webkit-linear-gradient(bottom,#e44,#e44 50%,transparent 0);background-image:linear-gradient(0deg,#e44 0,#e44 50%,transparent 0)}.le-content .le-right[data-v-6c1d8e69]{height:100%;background:#fff;border-top-right-radius:%?16?%;border-bottom-right-radius:%?16?%;padding-left:%?32?%;font-weight:500;font-family:PingFang SC}.le-content .le-right .le-name[data-v-6c1d8e69]{font-size:%?30?%;font-family:PingFang SC;font-weight:500;color:#222;line-height:%?40?%;margin-top:%?43?%}.le-content .le-right .le-desc[data-v-6c1d8e69]{font-size:%?22?%;font-family:PingFang SC;font-weight:500;color:#999;line-height:%?28?%;margin-top:%?5?%}.le-content .le-footer[data-v-6c1d8e69]{height:%?80?%;line-height:%?80?%;font-size:%?22?%;font-family:PingFang SC;font-weight:500;color:#fefefe;text-align:center}',""]),e.exports=t},"1d15":function(e,t,n){"use strict";n.r(t);var a=n("7f36"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"43e7":function(e,t,n){"use strict";var a=n("e53d"),o=n.n(a);o.a},"54da":function(e,t,n){"use strict";n.r(t);var a=n("d06d"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},6395:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"he-page-content",attrs:{"data-theme":e.theme}},[n("v-uni-image",{staticClass:"he-background__box",attrs:{src:e.ipAddress+"/login-background-login.png"}}),n("v-uni-view",{staticClass:"he-background__box he-content flex flex-direction align-center"},[n("v-uni-image",{staticClass:"he-icon",attrs:{src:e.storeSetting.logo,mode:"aspectFit"}}),n("v-uni-view",{staticClass:"he-text"},[e._v("请授权微信登录")]),n("v-uni-view",{staticClass:"he-other__text"},[e._v("以便我们为您提供更好的服务")]),n("v-uni-button",{staticClass:"cu-btn he-login",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.decryptUserInfo.apply(void 0,arguments)}}},[e._v("微信一键授权登录")]),n("v-uni-button",{staticClass:"cu-btn he-out",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.notLogin.apply(void 0,arguments)}}},[e._v("暂不登录")])],1),n("user-newuser-coupon",{attrs:{coupon:e.userInfo.register&&e.userInfo.register.coupon_list},model:{value:e.isNewuser,callback:function(t){e.isNewuser=t},expression:"isNewuser"}})],1)},i=[]},"7a3a":function(e,t,n){var a=n("d344");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("1c098273",a,!0,{sourceMap:!1,shadowMode:!1})},"7f36":function(e,t,n){"use strict";var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var o=a(n("c2c4")),i={props:{value:Boolean,coupon:Array,wechatUrl:String},components:{HePopup:o.default},computed:{showModal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},filters:{setNumber:function(e){return Number(e)}},methods:{closeModal:function(){var e=this;this.showModal=!1,uni.redirectTo({url:e.wechatUrl,fail:function(){uni.switchTab({url:e.wechatUrl})}})}}};t.default=i},8946:function(e,t,n){"use strict";n.r(t);var a=n("6395"),o=n("54da");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("daae");var r,c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"c4007ec4",null,!1,a["a"],r);t["default"]=s.exports},bd52:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("he-popup",{attrs:{mode:"center","background-color":"transparent",zoom:!1,width:"100%",height:"100%"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("v-uni-view",{staticClass:"le-popup",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),function(){}.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"he-box"},[n("v-uni-view",{staticClass:"he-box__close flex align-center justify-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closeModal.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"iconfont iconpopup_close"})],1),n("v-uni-image",{staticClass:"le-box-image",attrs:{src:e.ipAddress+"/login-newuser-coupon.png"}}),n("v-uni-view",{staticClass:"le-content"},[n("v-uni-scroll-view",{staticClass:"le-body",attrs:{"scroll-y":!0}},e._l(e.coupon,(function(t,a){return n("v-uni-view",{key:a,staticClass:"he-item flex"},[n("v-uni-view",{staticClass:"he-left"},[n("v-uni-view",{staticClass:"le-price"},[e._v(e._s(e._f("setNumber")(t.coupon.sub_price)))]),n("v-uni-view",{staticClass:"le-limit"},[Number(t.coupon.min_price)>0?[e._v("满"+e._s(Number(t.coupon.min_price))+"可用")]:[e._v("无门槛使用")]],2)],1),n("v-uni-view",{staticClass:"he-center"},[n("v-uni-view",{staticClass:"he-dot"}),n("v-uni-view",{staticClass:"he-line"}),n("v-uni-view",{staticClass:"he-dot"})],1),n("v-uni-view",{staticClass:"le-right flex-sub"},[n("v-uni-view",{staticClass:"le-name"},[e._v(e._s(t.coupon.name))]),n("v-uni-view",{staticClass:"le-desc"},[e._v(e._s(1===t.coupon.appoint_type?"全部商品可用":"部分商品可用"))])],1)],1)})),1),n("v-uni-view",{staticClass:"le-footer"},[e._v("优惠券已发放，请在优惠券账户查看")])],1)],1)],1)],1)},i=[]},d06d:function(e,t,n){"use strict";var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("5530")),i=n("2f62"),r=a(n("eca4")),c={name:"login",components:{userNewuserCoupon:r.default},data:function(){return{isNewuser:!1}},methods:(0,o.default)((0,o.default)({},(0,i.mapActions)({decryptUserInfo:"user/decryptUserInfo",getUserProfile:"user/getUserProfile"})),{},{notLogin:function(){1===getCurrentPages().length?uni.reLaunch({url:"/pages/index/index"}):uni.navigateBack({delta:1})},login:function(){var e=this;this.canIUseGetUserProfile?this.getUserProfile().then((function(){e.$h.test.isEmpty(e.userInfo.register.coupon_list)?uni.navigateBack({delta:1}):e.isNewuser=!0,setTimeout((function(){var t=e.$store.getters["setting/getCartIndex"];e.$store.dispatch("cart/getCartNumber").then((function(e){0!==e?uni.setTabBarBadge({index:t,text:e+""}):uni.removeTabBarBadge({index:t})}))}),1e3)})):this.decryptUserInfo().then((function(){e.$h.test.isEmpty(e.userInfo.register.coupon_list)?uni.navigateBack({delta:1}):e.isNewuser=!0,setTimeout((function(){var t=e.$store.getters["setting/getCartIndex"];e.$store.dispatch("cart/getCartNumber").then((function(e){0!==e?uni.setTabBarBadge({index:t,text:e+""}):uni.removeTabBarBadge({index:t})}))}),1e3)}))}}),computed:{userInfo:function(){return this.$store.state.apply.userInfo}}};t.default=c},d344:function(e,t,n){var a=n("4bad");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* start--主题色--start */\n/* end--主题色--end */.he-page-content[data-v-c4007ec4]{background:#fff}.he-background__box[data-v-c4007ec4]{width:100%;height:%?960?%}.he-icon[data-v-c4007ec4]{width:%?180?%;height:%?180?%}.he-content[data-v-c4007ec4]{position:absolute;top:0;padding-top:%?160?%}.cu-btn[data-v-c4007ec4]{width:%?560?%;height:%?80?%;border-radius:%?40?%;font-family:PingFang SC;font-weight:500}.he-out[data-v-c4007ec4]{background:#fff;font-size:%?28?%;font-weight:500;color:#999;margin-top:%?16?%}.he-login[data-v-c4007ec4]{font-size:%?30?%;color:#fff;margin-top:%?88?%}[data-theme="red_theme"] .he-login[data-v-c4007ec4]{background-color:#e60b30!important}[data-theme="purple_theme"] .he-login[data-v-c4007ec4]{background-color:#8f2df3!important}[data-theme="blue_theme"] .he-login[data-v-c4007ec4]{background-color:#33a7ff!important}[data-theme="green_theme"] .he-login[data-v-c4007ec4]{background-color:#1fc551!important}[data-theme="orange_theme"] .he-login[data-v-c4007ec4]{background-color:#ff7f00!important}[data-theme="golden_theme"] .he-login[data-v-c4007ec4]{background-color:#caa45a!important}.he-text[data-v-c4007ec4]{font-size:%?32?%;font-family:PingFang SC;font-weight:500;color:#222;margin-top:%?64?%}.he-other__text[data-v-c4007ec4]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#999;margin-top:%?24?%}',""]),e.exports=t},daae:function(e,t,n){"use strict";var a=n("7a3a"),o=n.n(a);o.a},e53d:function(e,t,n){var a=n("154d");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("779c8578",a,!0,{sourceMap:!1,shadowMode:!1})},eca4:function(e,t,n){"use strict";n.r(t);var a=n("bd52"),o=n("1d15");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("43e7");var r,c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"6c1d8e69",null,!1,a["a"],r);t["default"]=s.exports}}]);