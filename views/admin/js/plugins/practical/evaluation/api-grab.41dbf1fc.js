(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins/practical/evaluation/api-grab"],{"454b":function(e,t){e.exports="data:image/png;base64,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"},"4e8c":function(e,t){e.exports="data:image/png;base64,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"},"7f6a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAABNFJREFUSEu91nuQ1mUVwPHPb9l9d1tYkhdYbjK7jKg1/CFbKE0DZaM7NGMSaewgU9HFaUpYUQoarERHxWAi8IKWY15rjNRCcKAZN8qGailbZBGZwMmBwLuw4170fffd99c8+6wuwotTk/L8eX7nPN9zec45vwTSxUPH6C1cJ0kvwmlB9j6ebjyBVcn6/J4kXVQ9Xlr4B8a+j5BSVxUVNSTpwsx9WPABwwauT7YH4NEPII0n8//NAMyjorRGimTgU0qxj7Ihx8j+57z0A99AzTumZQmFXl4t0ocqjMmQK3C0SA7DkK2kEBwKjhRJi/GK4FBSdjJPOk8EBsOuAo2XM+Zsdj7KjlYm1vDVB3hhN09t5Kk23g42g/LI1osChuPDlfQF4TunBPDFPJdewfz1g2pNCTM/S/PWKHv8en7/GDNnMfmTjJnMsNpIOvA0uzbT+hCHjnB6JmYqnhLAg3maV9O4dBC4uJzmPzJ5RkzdkYOMrI/fcz0c2k3HYYbUMLUxyjteZO3n2N/GyEyMviQw1OPVAgtWcE4jDy4jW8u3fvvuuhxu55bZPHcgRhDS2IWGLCv3U52l+2UWTaCij0zI+/ERhlp35Jn6GV7Zx5bDzGvgmrYI27icunNpuIS2R/jh3Pjcqo/x5RBueIDpX47CG6ew91lGlAJ25Rk5njWHo/JVUwld86O/sXUtm69l3RtU1cS0vnSQmipGnx0jSMt4ZCkVlVyyKt7xk0+z40+MLgnsZXQdix6mblo0uPZcdj1NXQU3/5vqEfzsm8z5DmM/GnW238WR16nO0LqJ6RfT+N347c7ZbNscW+uElA5JOJqL9ZizhKY10Si80gmn8/0naVnDujtYv4GPN8VhcGUV/yrEVujEil9y3vxo+/N5bN3A2FLAoBCgPTmewdVX0nQLS4czYQbf/jVDMpT3G5948m/yu5spFpizMn6/5zK2/Oo9gEEpSdnXy5JVzFrGwkqydUybG6dIPuVTC6g9M0YYolZJ/TlsWByjm/W9CPzpF2jZ+F4R4rk8M6ax/O8838qPZ7B4G/lO2h5l5b384iGmzYvRnF/Bl5q47DauqefCJXz+xghcdwF/2UZtyRoiNP6kidy0iw+N4O5L+fNvuHdgRP1zG/Mv4I77mf4Veo5y60Vc/iCjzmDTD8h1M3dtBK78GM/sJHs8MPTgkTw1WVa3UzOB7tdZOCrOx/u6qRhouJ2bqG9gxMTBOr52gFF10Wbfk7FXw1k+jhdeouZ4YHcv1bWsDz0YpjK2XMft15MVn/o37o9t8fbpfIU9LfzhTlq3c/HXGFfH+c0MzfLafq46i2EJ5f0b8JhZmi9SNYzzvs4XV1A1nCuG0tMTvXs5T30to88kSch1cWAvXTmWbSJTwfN7+cQcRk4i7eOmmez5K6NKzdL+PZjnYMrUSYybwo7HOa2CdGAJd+Z5ayC8UIKwAsdnubqF8VNiy4QJ9OwTtNxKe3vcFgOrsvTwDn3YkYuLtrZyQPldO20wpf1OFujoi/M07MRgF4Z4yGAYZwE2aN6f0uBzZelO/i+loRcLffHiEHl5+cm2fk8AhmEUfhpOxXkrAB/D7FNBQ3uSLsp8RGrvqQGWXdj//NLmigZpcoM0mU76/9XzRM/zpLslZauT23Nb/wNi4sxuxkz1yAAAAABJRU5ErkJggg=="},b671:function(e,t,a){"use strict";a("ff6c")},ef36:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=this,s=t.$createElement,i=t._self._c||s;return i("el-form",{ref:"form",staticClass:"le-main",attrs:{"label-width":"190px",model:t.form,rules:t.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"le-card"},[t._v("支持商品评价采集的平台：淘宝、天猫、京东")]),i("div",{staticClass:"le-card flex"},[i("img",{staticClass:"le-img",attrs:{src:t.good.image}}),i("div",[i("div",{staticClass:"le-name"},[t._v(" "+t._s(t.good.name)+" ")]),i("div",{staticClass:"flex align-center",staticStyle:{"margin-left":"20px"}},[t.good.group?i("div",{staticClass:"le-group"},[t._v(t._s(t.good.group))]):t._e(),i("el-button",{staticClass:"le-select-group",attrs:{plain:""},on:{click:function(e){t.showChooseSpecifications=!0}}},[t._v("选择规格")])],1)])]),i("div",{staticClass:"le-card"},[i("div",{staticClass:"le-card--header flex align-center"},[i("span",{staticClass:"le-sign"}),i("span",[t._v("基础信息")])]),i("el-form-item",{attrs:{label:"评价数",prop:"num"}},[i("el-input",{staticClass:"le-input--180",model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",t._n(e))},expression:"form.num"}},[i("template",{slot:"append"},[t._v("条")])],2),i("div",{staticClass:"le-prompt-text"},[t._v("建议单次采集不超过50条，否则可能导致采集失败")])],1),i("el-form-item",{attrs:{label:"评价时间范围",prop:"time"}},[i("el-date-picker",{attrs:{type:"datetimerange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1),i("el-form-item",{attrs:{label:"评价状态"}},[i("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[i("el-radio",{attrs:{label:1}},[t._v("显示")]),i("el-radio",{attrs:{label:0}},[t._v("隐藏")]),i("el-radio",{attrs:{label:2}},[t._v("置顶")])],1)],1)],1),i("div",{staticClass:"le-card"},[i("div",{staticClass:"le-card--header flex align-center"},[i("span",{staticClass:"le-sign"}),i("span",[t._v("用户信息")])]),i("el-form-item",{attrs:{label:"头像来源",prop:"gallery_group_id"}},[t.material?i("el-tag",{attrs:{type:"info",size:"medium",effect:"plain",closable:""},on:{close:function(){e.material=null,e.form.gallery_group_id=null}}},[t._v(t._s(t.material.name)+" ")]):t._e(),i("el-button",{attrs:{plain:""},on:{click:function(e){t.showChooseMaterial=!0}}},[t._v("选择素材组")])],1)],1),i("div",{staticClass:"le-card"},[i("div",{staticClass:"le-card--header flex align-center"},[i("span",{staticClass:"le-sign"}),i("span",[t._v("评价信息")])]),i("el-form-item",{attrs:{label:"平台来源"}},[i("div",{staticClass:"flex"},[i("div",{staticClass:"le-platform-item flex align-center"},[i("img",{attrs:{src:a("7f6a"),width:"28",height:"28",alt:""}}),i("div",[t._v("淘宝")])]),i("div",{staticClass:"le-platform-item flex align-center"},[i("img",{attrs:{src:a("4e8c"),width:"28",height:"28",alt:""}}),i("div",[t._v("天猫")])]),i("div",{staticClass:"le-platform-item flex align-center"},[i("img",{attrs:{src:a("454b"),width:"28",height:"28",alt:""}}),i("div",[t._v("京东")])])])]),i("el-form-item",{attrs:{label:"商品链接",prop:"link"}},[i("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"请输入商品链接",resize:"none",rows:10,type:"textarea"},model:{value:t.form.link,callback:function(e){t.$set(t.form,"link",e)},expression:"form.link"}}),i("div",{staticClass:"le-prompt-text"},[t._v(" 仅支持采集一条链接，天猫渠道API仅支持按默认顺序逐条抓取评价，不支持自定义条件抓取 ")])],1),i("el-form-item",{attrs:{label:"抓取内容"}},[i("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[i("el-radio",{staticStyle:{display:"block","margin-top":"10px"},attrs:{label:1}},[t._v("逐条抓取评价")]),i("div",{staticClass:"le-prompt-text",staticStyle:{"margin-bottom":"20px"}},[t._v(" 系统将以展示的默认评价顺序逐条抓取评价文字和对应的图片内容；评价内的视频将自动过滤不抓取 ")]),i("el-radio",{staticStyle:{display:"block"},attrs:{label:2}},[t._v("仅抓取好评")]),i("div",{staticClass:"le-prompt-text",staticStyle:{"margin-bottom":"20px"}},[t._v(" 系统将以展示的默认评价顺序逐条抓取好评；评价内的视频内容将自动过滤不获取 ")]),i("el-radio",{staticStyle:{display:"block"},attrs:{label:3}},[t._v("仅抓取带图评价")]),i("div",{staticClass:"le-prompt-text"},[t._v(" 如果可抓取的带图评价数量低于设置的抓取数量，将自动抓取无图评价内容；评价内的视频内容将自动过滤不获取 ")])],1)],1)],1),i("div",{staticClass:"le-cardpin"},[i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1),i("he-loading",{attrs:{show:t.load,title:"正在抓取中，请稍后..."}}),t.showChooseSpecifications?i("choose-specifications",{attrs:{info:t.good},on:{confirm:t.specifi},model:{value:t.showChooseSpecifications,callback:function(e){t.showChooseSpecifications=e},expression:"showChooseSpecifications"}}):t._e(),t.showChooseMaterial?i("choose-material",{on:{confirm:function(t){e.material=t,e.form.gallery_group_id=t.id,e.$refs.form.validateField("gallery_group_id")}},model:{value:t.showChooseMaterial,callback:function(e){t.showChooseMaterial=e},expression:"showChooseMaterial"}}):t._e(),i("fetched-success",{attrs:{info:t.fetchedSuccessInfo},on:{confirm:t.empty},model:{value:t.showFetchedSuccess,callback:function(e){t.showFetchedSuccess=e},expression:"showFetchedSuccess"}})],1)},i=[],o=a("4d63"),l=(a("60d6"),a("da02"),a("5d63"),a("7d53")),n=a("5b86"),c=a("e00f"),r=a("4b46"),m={name:"api-grab",components:{heLoading:l["a"],ChooseSpecifications:n["a"],fetchedSuccess:c["a"],ChooseMaterial:r["a"]},data:function(){var e=function(e,t,a){isNaN(Number(t))&&a("请输入整数"),Number(t)<0&&a("请输入0以上的整数"),a()};return{good:{},form:{num:0,time:null,status:1,link:"",type:1,gallery_group_id:null},rules:{num:[{required:!0,message:"评价数不能为空"},{validator:e,trigger:["blur","change"]}],time:[{required:!0,message:"时间不能为空"}],link:[{required:!0,message:"请输入商品链接"}],gallery_group_id:[{required:!0,message:"请选择头像来源"}]},load:!1,showChooseSpecifications:!1,showFetchedSuccess:!1,fetchedSuccessInfo:{},showChooseMaterial:!1,material:null}},mounted:function(){try{this.good=JSON.parse(decodeURIComponent(this.$route.query.good))}catch(e){this.$router.back()}},methods:{submit:function(){var e=this;this.good.group?this.$refs.form.validate((function(t){if(t){e.load=!0;var a=e.$_.cloneDeep(e.form);a.time&&a.time.length>0&&(a.begin=a.time[0]/1e3,a.end=a.time[1]/1e3),e.$heshop.plugin("post",{include:"evaluate",model:"evaluate",behavior:"api"},Object(o["a"])({id:e.good.id,show_goods_param:e.good.group},a)).then((function(t){e.fetchedSuccessInfo={slideshow:e.good.image,goods_id:e.good.goods_id,name:e.good.name,type:"api",number:t},e.showFetchedSuccess=!0})).catch((function(t){e.$message({type:"error",message:t.data.message})})).finally((function(){e.load=!1}))}})):this.$message({type:"error",message:"商品规格不能为空"})},empty:function(){this.form={num:0,time:null,status:1,link:"",type:1},this.repository=null,this.good.group=null},specifi:function(e){this.good.group=e}}},d=m,u=(a("b671"),a("cba8")),f=Object(u["a"])(d,s,i,!1,null,"36a9b97e",null);t["default"]=f.exports},ff6c:function(e,t,a){}}]);