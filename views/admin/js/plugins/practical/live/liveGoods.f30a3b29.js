(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins/practical/live/liveGoods"],{"0b01":function(e,t,s){"use strict";s("20d3")},1269:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-button",{attrs:{type:"primary"},on:{click:e.routerAddLiveGood}},[e._v("添加直播商品")]),s("el-tabs",{staticClass:"le-tabs",attrs:{type:"card"},on:{"tab-click":e.goodsTabSwitch},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l([{label:"审核中",status:"1"},{label:"审核通过",status:"2"},{label:"审核未通过",status:"3"}],(function(t,o){return s("el-tab-pane",{key:o,attrs:{label:t.label,name:t.status}},[s("liveGoodsTable",{attrs:{page:e.page},on:{"update:page":function(t){e.page=t}},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}})],1)})),1)],1)},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"le-main"},[s("el-table",{staticClass:"le-table",attrs:{data:e.value,"row-class-name":"le-table--row"}},[s("el-table-column",{attrs:{label:"商品"},scopedSlots:e._u([{key:"default",fn:function(t){return s("div",{staticClass:"flex align-center"},[s("el-image",{staticClass:"le-image",attrs:{src:t.row.coverImgUrlBase64}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])]),s("div",[e._v(" "+e._s(t.row.name)+" ")])],1)}}])}),s("el-table-column",{attrs:{label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"le-price"},[e._v(" "+e._s(1===t.row.priceType?"一口价":2===t.row.priceType?"价格区间":3===t.row.priceType?"折扣价":"")+" ")]),s("div",[s("span",[e._v(" "+e._s(2===t.row.priceType?t.row.price+"-￥"+t.row.price2:1===t.row.priceType?t.row.price:3===t.row.priceType?t.row.price2:"")+" ")]),3===t.row.priceType?s("span",[e._v("￥"+e._s(t.row.price))]):e._e()])]}}])}),s("el-table-column",{attrs:{label:"小程序路径",prop:"url"}}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return s("div",{staticClass:"le-operating flex align-center"},["3"===e.parentComponentName?[s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.submitReview(t.row.goodsId,t.$index)}}},[e._v("提交审核")]),s("span",{staticClass:"le-line"})]:e._e(),"1"!==e.parentComponentName&&0!==t.row.is_show?[s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.editLiveGood(t.row)}}},[e._v("编辑")]),s("span",{staticClass:"le-line"})]:e._e(),s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.deleteGood(t.row.goodsId,t.$index)}}},[e._v("删除")])],2)}}])})],1),s("div",{staticClass:"flex le-pagination justify-end"},[s("el-pagination",{attrs:{background:"","current-page":e.page.page,"page-count":e.page.count,layout:"prev, pager, next, jumper"}})],1)],1)},n=[],r=s("4d63"),l=(s("5d63"),{name:"liveGoodsTable",props:{value:{type:Array},page:{type:Object}},computed:{parentComponentName:function(){return this.$parent.name}},methods:{submitReview:function(e,t){var s=this;this.$confirm("是否确认提交审核",{customClass:"le-submit-review"}).then((function(){s.$heshop.livegoods("post",{behavior:"submit"},{goods_id:e}).then((function(){s.$delete(s.value,t),s.$message.success("提交成功")})).catch((function(e){s.$message.error(e.data.message)}))})).catch((function(){}))},deleteGood:function(e,t){var s=this;this.$confirm("直播商品删除请谨慎操作，确定删除？",{}).then((function(){s.$heshop.livegoods("post",{behavior:"delete"},{goods_id:e}).then((function(){s.$delete(s.value,t),s.$message.success("删除成功")})).catch((function(e){s.$message.error(e.data.message)}))})).catch((function(){}))},editLiveGood:function(e){localStorage.setItem("editLiveGood",JSON.stringify(Object(r["a"])({},e))),this.$router.push({path:"/practical/live/addLiveGood",query:{goodsId:e.goodsId,status:this.parentComponentName}})}}}),c=l,u=(s("94c2"),s("718b"),s("cba8")),p=Object(u["a"])(c,i,n,!1,null,"7e056c0d",null),d=p.exports,f={name:"liveGoods",components:{liveGoodsTable:d},data:function(){return{form:{limit:10,status:"1"},list:[],page:{page:1,count:1}}},mounted:function(){this.getGoodsList()},methods:{getGoodsList:function(){var e=this,t=JSON.parse(JSON.stringify(this.form));t.status=+t.status,t.page=this.page.page,this.$heshop.livegoods("get",t).then((function(t){e.list=t.list})).catch((function(t){e.$message.error(t.data.message)}))},goodsTabSwitch:function(){this.list=[],this.getGoodsList()},routerAddLiveGood:function(){this.$router.push("/practical/live/addLiveGood")}}},m=f,v=(s("0b01"),Object(u["a"])(m,o,a,!1,null,"4fff67e8",null));t["default"]=v.exports},"20d3":function(e,t,s){},"718b":function(e,t,s){"use strict";s("e52a")},"94c2":function(e,t,s){"use strict";s("cd3b")},cd3b:function(e,t,s){},e52a:function(e,t,s){}}]);