(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promoter-settlement-site"],{"0c25":function(n,t,e){"use strict";e("510d")},"0e28":function(n,t,e){"use strict";e.d(t,"q",(function(){return u})),e.d(t,"t",(function(){return s})),e.d(t,"a",(function(){return l})),e.d(t,"L",(function(){return d})),e.d(t,"k",(function(){return f})),e.d(t,"j",(function(){return m})),e.d(t,"z",(function(){return p})),e.d(t,"x",(function(){return h})),e.d(t,"u",(function(){return g})),e.d(t,"y",(function(){return v})),e.d(t,"c",(function(){return w})),e.d(t,"v",(function(){return b})),e.d(t,"w",(function(){return _})),e.d(t,"D",(function(){return y})),e.d(t,"d",(function(){return P})),e.d(t,"i",(function(){return k})),e.d(t,"C",(function(){return I})),e.d(t,"B",(function(){return A})),e.d(t,"E",(function(){return x})),e.d(t,"e",(function(){return N})),e.d(t,"f",(function(){return O})),e.d(t,"A",(function(){return T})),e.d(t,"h",(function(){return $})),e.d(t,"F",(function(){return C})),e.d(t,"l",(function(){return G})),e.d(t,"n",(function(){return E})),e.d(t,"I",(function(){return D})),e.d(t,"m",(function(){return j})),e.d(t,"H",(function(){return q})),e.d(t,"J",(function(){return z})),e.d(t,"p",(function(){return F})),e.d(t,"b",(function(){return S})),e.d(t,"K",(function(){return U})),e.d(t,"G",(function(){return X})),e.d(t,"s",(function(){return R})),e.d(t,"g",(function(){return J})),e.d(t,"o",(function(){return L})),e.d(t,"r",(function(){return B}));e("2769"),e("ecf1"),e("f49b"),e("b1fa");var o=e("430a"),r=(e("6afd"),e("2070"),e("eb62"),["X-PAGINATION-TOTAL-COUNT","X-PAGINATION-PER-PAGE","X-PAGINATION-PAGE-COUNT","X-PAGINATION-CURRENT-PAGE"]);function a(n){Object.keys(n.headers).forEach((function(t){n.headers[t.toUpperCase()]=n.headers[t],delete n.headers[t]}));var t={current:1,pageCount:1,totalCount:1};r.forEach((function(t){Object.keys(n.headers).map((function(e){t===e&&(n.headers[e]=parseInt(n.headers[e]))}))})),t.current=n.headers["X-PAGINATION-CURRENT-PAGE"],t.pageCount=n.headers["X-PAGINATION-PAGE-COUNT"],t.totalCount=n.headers["X-PAGINATION-TOTAL-COUNT"],n.pagination=t}e("7c98");var i=o["default"].prototype.$heshop,c=o["default"].prototype.$message.error;function u(n){var t=n.tabKey,e=void 0===t?"all":t,o=n.page,r=void 0===o?1:o,u=n.search,s=void 0===u?"":u,l=n.sort,d=void 0===l?{}:l,f=n.time_start,m=void 0===f?0:f,p=n.time_end,h=void 0===p?0:p,g=n.cost_status,v=void 0===g?null:g,w=n.is_promoter,b=void 0===w?null:w,_=n.group,y=void 0===_?[]:_,P=n.price_start,k=void 0===P?"":P,I=n.price_end,A=void 0===I?"":I;return new Promise((function(n){i.search("post",{include:"goods"},{keyword:{tab_key:e,search:s,sort:d,time_start:m,time_end:h,is_promoter:b,cost_status:v,group:y,price_start:k,price_end:A}}).page(r,10).then((function(t){a(t);var e=t.data,o=t.pagination;n({data:e,pagination:o})})).catch((function(n){c(n.data.message)}))}))}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(r,a){i.promotergoods("put",{type:n,id:t,tab_key:e},{is_promoter:o}).then(r).catch(a)}))}function l(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,e){i.promoter("post",n).then(t).catch((function(n){c(n.data.message),e(n)}))}))}function d(n){return new Promise((function(t,e){i.promoter("get",{behavior:"add_search",search:n}).then((function(n){t(n)})).catch((function(n){c(n.data.message),e(n)}))}))}function f(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keyword:"",begin_time:null,end_time:null,type:null,level:null};return new Promise((function(e){i.finance("get",t).page(n,10).then((function(n){a(n);var t=n.data,o=n.pagination;e({data:t,pagination:o})})).catch((function(n){c(n.data.message)}))}))}function m(n,t,e){return n=parseInt(n),new Promise((function(o,r){i.finance("put",n,{status:t,content:e}).then(o).catch((function(n){r(n)}))}))}function p(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(e){i.search("post",{include:"promoterorder"},t).page(n,10).then((function(n){a(n);var t=n.data,o=n.pagination;e({data:t,pagination:o})})).catch((function(n){c(n.data.message)}))}))}function h(){return new Promise((function(n){i.promoterlevel("get").then(n).catch((function(n){c(n.data.message)}))}))}function g(n){return n=parseInt(n),new Promise((function(t){i.promoterlevel("delete",n).then(t).catch((function(n){c(n.data.message)}))}))}function v(){return new Promise((function(n){i.promoterlevel("get",{behavior:"option"}).then(n).catch((function(n){c(n.data.message)}))}))}function w(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,e){i.promoterlevel("post",n).then(t).catch((function(n){c(n.data.message),e(n)}))}))}function b(n){return n=parseInt(n),new Promise((function(t){i.promoterlevel("get",n).then(t).catch((function(n){c(n.data.message)}))}))}function _(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=parseInt(n),new Promise((function(e,o){i.promoterlevel("put",n,t).then(e).catch((function(n){c(n.data.message),o(n)}))}))}function y(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return new Promise((function(e){i.promotermaterial("get",t).page(n,10).then((function(n){a(n);var t=n.data,o=n.pagination;e({data:t,pagination:o})})).catch((function(n){c(n.data.message)}))}))}function P(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t){i.promotermaterial("post",n).then(t).catch((function(n){c(n.data.message)}))}))}function k(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(e){i.promotermaterial("put",n,t).then(e).catch((function(n){c(n.data.message)}))}))}function I(n){return new Promise((function(t){i.promotermaterial("get",n).then(t).catch((function(n){c(n.data.message)}))}))}function A(n){return new Promise((function(t){i.promotermaterial("delete",n).then(t).catch((function(n){c(n.data.message)}))}))}function x(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(e){i.promoterzone("get",t).page(n,10).then((function(n){a(n);var t=n.data,o=n.pagination;e({data:t,pagination:o})})).catch((function(n){c(n.data.message)}))}))}function N(n){return new Promise((function(t){i.promoterzone("post",n).then(t).catch((function(n){c(n.data.message)}))}))}function O(n){return new Promise((function(t){i.promoterzone("delete",n).then(t).catch((function(n){c(n.data.message)}))}))}function T(n){return n=parseInt(n),new Promise((function(t){i.promoterzone("get",n).then((function(n){t(n)})).catch((function(n){c(n.data.message)}))}))}function $(n,t){return n=parseInt(n),new Promise((function(e,o){i.promoterzone("put",n,t).then(e).catch((function(n){o(n),c(n.data.message)}))}))}function C(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,e){i.setting("post",{keyword:"commission_setting",content:n}).then(t).catch((function(n){e(n)}))}))}function G(){return new Promise((function(n,t){i.search("post",{include:"setting"},{keyword:"commission_setting"}).then(n).catch((function(n){c(n.data.message),t()}))}))}function E(){return new Promise((function(n,t){i.search("post",{include:"setting"},{keyword:"promoter_setting"}).then(n).catch((function(n){c(n.data.message),t()}))}))}function D(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,e){i.setting("post",{keyword:"promoter_setting",content:n}).then(t).catch((function(n){e(n)}))}))}function j(){return new Promise((function(n,t){i.search("post",{include:"setting"},{keyword:"promoter_rank"}).then(n).catch((function(n){c(n.data.message),t()}))}))}function q(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,e){i.setting("post",{keyword:"promoter_rank",content:n}).then(t).catch((function(n){e(n)}))}))}function z(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,e){i.setting("post",{keyword:"promoter_recruit_make",content:n}).then(t).catch((function(n){e(n)}))}))}function F(){return new Promise((function(n,t){i.search("post",{include:"setting"},{keyword:"promoter_recruit_make"}).then((function(t){n(t.content)})).catch((function(n){c(n.data.message),t()}))}))}function S(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o,r){i.promoter("put",{id:n,behavior:t},e).then(o).catch((function(n){c(n.data.message),r()}))}))}function U(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uid:"",mobile:""};return new Promise((function(t,e){i.promoter("get",{behavior:"transfer_search",from_uid:n.uid,mobile:n.mobile}).then(t).catch((function(n){c(n.data.message),e(n)}))}))}function X(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,e){i.setting("post",{keyword:"promoter_page_setting",content:n}).then(t).catch((function(n){c(n.data.message),e(n)}))}))}function R(){return new Promise((function(n,t){i.search("post",{include:"setting"},{keyword:"promoter_page_setting"}).then((function(t){n(t.content)})).catch((function(n){c(n.data.message),t(n)}))}))}function J(n,t){return new Promise((function(e,o){i.promoter("put",parseInt(n),{level:t}).then(e).catch((function(n){c(n.data.message),o(n)}))}))}function L(n){return new Promise((function(t,e){i.qrcode("post",n).then(t).catch((function(n){c(n.data.message),e(n)}))}))}function B(){return new Promise((function(n,t){i.group("get",{include:"goods"}).then((function(t){n(t)})).catch((function(n){c(n.data.message),t(n)}))}))}},"510d":function(n,t,e){},9073:function(n,t,e){"use strict";e("c0c8")},c0c8:function(n,t,e){},db91:function(n,t,e){"use strict";e.r(t);var o,r,a,i,c=e("4c02"),u=e.n(c),s=(e("fc2a"),e("3f7e"),e("b1fa"),e("eb62"),e("f5bd"),e("46d3")),l={name:"save-failed",props:{value:{type:Boolean,default:!0}},computed:{showDialog:{get:function(n){var t=n.value;return t},set:function(n){this.$emit("input",n)}}},render:function(){var n=arguments[0],t=this;return n("el-dialog",u()([{attrs:{visible:t.showDialog,width:"437px",top:"30vh"}},{on:Object(s["a"])({},"update:visible",(function(n){t.showDialog=n}))}]),[n("div",{class:"flex flex-direction align-center"},[n("div",{class:"flex align-center"},[n("span",{class:"le-icon le-icon-zhushi1"}),n("span",{class:"title"},["操作失败"])]),n("span",{class:"prompt-text"},["存在分销商品未设置成本价，无法根据利润计算佣金"])]),n("div",{slot:"footer"},[n("el-button",{on:{click:function(){return t.showDialog=!1}}},["取消"]),n("el-button",{attrs:{type:"primary"},on:{click:t.modifyProduct}},["修改商品"])])])},methods:{modifyProduct:function(){var n=this.$router.resolve({path:"/promoter/goods"}),t=n.href;window.open(t,"_blank")}}},d=l,f=(e("0c25"),e("4ac2")),m=Object(f["a"])(d,o,r,!1,null,"3266b662",null),p=m.exports,h=e("0e28"),g={name:"settlement-site",components:{saveFailed:p},data:function(){var n=this,t=/(^[\d]|^[1-9][\d]*)($|[\\.][\d]{0,2}$)/,e=function(e,o,r){t.test(o)?(n.$_.toSafeInteger(o)>9999999&&r("请输入0~9999999的整数或小数"),r()):r("请输入小数点后最多两位")};return{form:{count_rules:1,withdrawal_way:["wechat","alipay","bankCard"],min_money:"",max_money:"",poundage:""},rules:{withdrawal_way:[{required:!0,message:"请选择提现方式"}],min_money:[{required:!0,validator:e}],max_money:[{required:!0,validator:e}],poundage:[{required:!0,validator:function(e,o,r){t.test(o)?(n.$_.toSafeInteger(o)>100&&r("请输入0~100的整数或小数"),r()):r("请输入小数点后最多两位")}}]},loading:!0,showSaveFailed:!1}},methods:{submit:function(){var n=this;this.$refs["form"].validate((function(t){if(!t)return!1;n.loading=!0;var e=n.$_.cloneDeep(n.form),o=new Array(4);o[0]=e.withdrawal_way.find((function(n){return"wechatDib"===n})),o[1]=e.withdrawal_way.find((function(n){return"wechat"===n})),o[2]=e.withdrawal_way.find((function(n){return"alipay"===n})),o[3]=e.withdrawal_way.find((function(n){return"bankCard"===n})),o=o.filter((function(n){return n})),e.withdrawal_way=o,Object(h["F"])(e).then((function(t){1===t.status?n.showSaveFailed=!0:n.$message({type:"success",message:"保存成功"})})).finally((function(){n.loading=!1}))}))}},mounted:function(){var n=this;Object(h["l"])().then((function(t){n.form=t.content,n.loading=!1})).catch((function(){n.loading=!1}))},render:function(){var n=this,t=arguments[0],e=this,o=[{name:"自动到账微信零钱",label:"wechatDib"},{name:"提现到微信",label:"wechat"},{name:"提现到支付宝",label:"alipay"},{name:"提现到银行卡",label:"bankCard"}];return t("div",{class:"le-main"},[t("el-form",u()([{attrs:{"label-width":"190px"},ref:"form"},{props:{model:e.form,rules:e.rules}},{directives:[{name:"loading",value:e.loading}]}]),[t("div",{class:"le-card"},[t("div",{class:"le-card-head flex align-center"},[t("span",{class:"le-card-line"}),t("span",["佣金计算"])]),t("div",{class:"le-card-body"},[t("el-form-item",{attrs:{label:"佣金计算规则"}},[t("el-radio-group",{model:{value:e.form.count_rules,callback:function(t){n.$set(e.form,"count_rules",t)}}},[t("div",{class:"le-radio-item"},[t("el-radio",{attrs:{label:1}},["以商品实付金额计算佣金"]),t("div",{class:"le-prompt-text"},["选择后，佣金=商品实付金额*佣金比例"])]),t("div",{class:"le-radio-item"},[t("el-radio",{attrs:{label:2}},["以商品利润计算佣金"]),t("div",{class:"le-prompt-text"},["选择后，佣金=商品利润*佣金比例，此种方式能保障商家不亏本"])])])])])]),t("div",{class:"le-card le-card-margin"},[t("div",{class:"le-card-head flex align-center"},[t("span",{class:"le-card-line"}),t("span",["佣金提现"])]),t("div",{class:"le-card-body"},[t("el-form-item",{attrs:{label:"提现方式",prop:"withdrawal_way"}},[t("el-checkbox-group",{model:{value:e.form.withdrawal_way,callback:function(t){n.$set(e.form,"withdrawal_way",t)}}},[o.map((function(n,e){return t("el-checkbox",{attrs:{label:n.label},key:e},[n.name,function(){if("wechatDib"===n.label)return t("el-popover",{attrs:{content:"过售后订单收入",placement:"top",trigger:"hover"}},[t("div",[t("span",["登录【商户平台】，根据"]),t("a",{class:"le-popover--btn",attrs:{target:"_blank",href:"https://developers.weixin.qq.com/community/develop/article/doc/000ee8684ecb9873061cd257651813"}},["指引"]),t("span",["开通【企业付款到零钱】"])]),t("span",{slot:"reference",class:"le-icon le-icon-zhushi"})])}()])}))])]),t("el-form-item",{attrs:{label:"最低提现金额",prop:"min_money"}},[t("el-input",{class:"le-small--input",model:{value:e.form.min_money,callback:function(t){n.$set(e.form,"min_money",t)}}},[t("template",{slot:"append"},["元"])])]),t("el-form-item",{attrs:{label:"每日最高提现金额",prop:"max_money"}},[t("el-input",{class:"le-small--input",model:{value:e.form.max_money,callback:function(t){n.$set(e.form,"max_money",t)}}},[t("template",{slot:"append"},["元"])])]),t("el-form-item",{attrs:{label:"提现手续费",prop:"poundage"}},[t("el-input",{class:"le-small--input",model:{value:e.form.poundage,callback:function(t){n.$set(e.form,"poundage",t)}}},[t("template",{slot:"append"},["%"])])])])])]),t("div",{class:"le-cardpin"},[t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},["保存"])]),function(){if(e.showSaveFailed)return t(p,{model:{value:e.showSaveFailed,callback:function(t){n.$set(e,"showSaveFailed",t)}}})}()])}},v=g,w=(e("9073"),Object(f["a"])(v,a,i,!1,null,"7fc3c708",null));t["default"]=w.exports}}]);