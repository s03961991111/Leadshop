{"version":3,"sources":["webpack:///./src/practical/live/addLiveGood.vue?db24","webpack:///./src/practical/live/addLiveGood.vue?5241","webpack:///src/practical/live/addLiveGood.vue","webpack:///./src/practical/live/addLiveGood.vue?053c","webpack:///./src/practical/live/addLiveGood.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","ref","staticClass","attrs","rules","form","Object","keys","goods","length","on","getGoodDetail","_v","backgroundColor","confirmGoods","model","callback","$$v","$set","slideshow","_s","disabledEdit","_e","$event","class","scopedSlots","_u","key","fn","scope","url","stopPropagation","e","pic_url","apply","arguments","slot","priceTypeChange","price_type","formatNum","price","price2","loading","submit","staticRenderFns","components","goodsSelect","data","isNaN","is_show","my_goods_id","goods_name","page_url","computed","$route","query","status","created","watch","methods","$refs","clearValidate","handleClick","validate","valid","id","temp","replace","val","component"],"mappings":"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","file":"js/chunk-74dcde18.65f0c46f.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./addLiveGood.vue?vue&type=style&index=0&id=4b84cbbc&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",staticClass:\"le-main le-card\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"217px\"}},[_c('el-form-item',{staticClass:\"le-search--id\",attrs:{\"label\":\"选择商品\",\"prop\":\"goods\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"disabled\":Object.keys(_vm.form.goods).length > 0},on:{\"click\":_vm.getGoodDetail}},[_vm._v(\"选择商品\")]),_c('goods-select',{ref:\"goodsSelect\",attrs:{\"is-tips\":false,\"select-style\":{ backgroundColor: '#ffffff' }},on:{\"confirm\":_vm.confirmGoods},model:{value:(_vm.form.goods),callback:function ($$v) {_vm.$set(_vm.form, \"goods\", $$v)},expression:\"form.goods\"}}),(Object.keys(_vm.form.goods).length > 0)?_c('div',{staticClass:\"flex le-goods\"},[_c('el-image',{staticClass:\"le-goods--image\",attrs:{\"src\":_vm.form.goods.slideshow[0]}}),_c('div',{staticClass:\"le-goods--name flex-sub\"},[_vm._v(\" \"+_vm._s(_vm.form.goods.name)+\" \")]),(!_vm.disabledEdit)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.form.goods = {}}}},[_vm._v(\"移除\")]):_vm._e()],1):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{attrs:{\"disabled\":_vm.disabledEdit,\"maxlength\":\"14\",\"show-word-limit\":\"\",\"placeholder\":\"请输入商品名称\"},model:{value:(_vm.form.goods_name),callback:function ($$v) {_vm.$set(_vm.form, \"goods_name\", $$v)},expression:\"form.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品封面\",\"prop\":\"pic_url\"}},[_c('div',{staticClass:\"select-cover__120\",class:[_vm.disabledEdit ? 'le-still' : '']},[_c('pictureDialog',{attrs:{\"disabled\":_vm.disabledEdit,\"limit\":1},scopedSlots:_vm._u([{key:\"preview\",fn:function(scope){return _c('div',{staticClass:\"select-cover__120-edit\"},[_c('el-image',{attrs:{\"src\":scope.url,\"fit\":\"cover\"}}),(!_vm.disabledEdit)?_c('div',{staticClass:\"select-cover__120-tips\"},[_c('span',[_vm._v(\"替换\")]),_vm._v(\" | \"),_c('span',{on:{\"click\":function($event){$event.stopPropagation();return (function (e) { return (_vm.form.pic_url = ''); }).apply(null, arguments)}}},[_vm._v(\"删除\")])]):_vm._e()],1)}}]),model:{value:(_vm.form.pic_url),callback:function ($$v) {_vm.$set(_vm.form, \"pic_url\", $$v)},expression:\"form.pic_url\"}},[_c('div',{staticClass:\"select-cover__120-add\",attrs:{\"slot\":\"upload\"},slot:\"upload\"},[_c('i',{staticClass:\"le-icon le-icon-add select-cover__120-icon\"}),_c('span',{staticClass:\"select-cover__120-text\"},[_vm._v(\"添加图片\")])])])],1),_c('div',{staticClass:\"le-prompt-text\"},[_vm._v(\"建议尺寸：300像素 * 300像素，图片大小不得超过1M\")])]),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"price_type\"}},[_c('el-radio-group',{on:{\"change\":_vm.priceTypeChange},model:{value:(_vm.form.price_type),callback:function ($$v) {_vm.$set(_vm.form, \"price_type\", $$v)},expression:\"form.price_type\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"一口价\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"价格区间\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"折扣价\")])],1),(_vm.form.price_type === 1)?_c('div',[_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price, 'price')}},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):(_vm.form.price_type === 2)?_c('div',{staticClass:\"le-small-input\"},[_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price, 'price')}},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2),_c('span',[_vm._v(\"至\")]),_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price2, 'price2')}},model:{value:(_vm.form.price2),callback:function ($$v) {_vm.$set(_vm.form, \"price2\", $$v)},expression:\"form.price2\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):(_vm.form.price_type === 3)?_c('div',{staticClass:\"le-small-input\"},[_c('span',[_vm._v(\"原价\")]),_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price, 'price')}},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2),_c('span',[_vm._v(\"现价\")]),_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price2, 'price2')}},model:{value:(_vm.form.price2),callback:function ($$v) {_vm.$set(_vm.form, \"price2\", $$v)},expression:\"form.price2\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):_vm._e()],1)],1),_c('div',{staticClass:\"le-cardpin\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.submit}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-form v-loading=\"loading\" ref=\"form\" class=\"le-main le-card\" :rules=\"rules\" :model=\"form\" label-width=\"217px\">\r\n      <el-form-item label=\"选择商品\" class=\"le-search--id\" prop=\"goods\">\r\n        <el-button plain @click=\"getGoodDetail\" :disabled=\"Object.keys(form.goods).length > 0\">选择商品</el-button>\r\n        <goods-select\r\n          ref=\"goodsSelect\"\r\n          :is-tips=\"false\"\r\n          :select-style=\"{ backgroundColor: '#ffffff' }\"\r\n          v-model=\"form.goods\"\r\n          @confirm=\"confirmGoods\"\r\n        >\r\n        </goods-select>\r\n        <div class=\"flex le-goods\" v-if=\"Object.keys(form.goods).length > 0\">\r\n          <el-image class=\"le-goods--image\" :src=\"form.goods.slideshow[0]\"></el-image>\r\n          <div class=\"le-goods--name flex-sub\">\r\n            {{ form.goods.name }}\r\n          </div>\r\n          <el-button type=\"text\" @click=\"form.goods = {}\" v-if=\"!disabledEdit\">移除</el-button>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n        <el-input\r\n          :disabled=\"disabledEdit\"\r\n          v-model=\"form.goods_name\"\r\n          maxlength=\"14\"\r\n          show-word-limit\r\n          placeholder=\"请输入商品名称\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品封面\" prop=\"pic_url\">\r\n        <div class=\"select-cover__120\" :class=\"[disabledEdit ? 'le-still' : '']\">\r\n          <pictureDialog v-model=\"form.pic_url\" :disabled=\"disabledEdit\" :limit=\"1\">\r\n            <div slot=\"upload\" class=\"select-cover__120-add\">\r\n              <i class=\"le-icon le-icon-add select-cover__120-icon\"></i>\r\n              <span class=\"select-cover__120-text\">添加图片</span>\r\n            </div>\r\n            <div slot=\"preview\" slot-scope=\"scope\" class=\"select-cover__120-edit\">\r\n              <el-image :src=\"scope.url\" fit=\"cover\"></el-image>\r\n              <div class=\"select-cover__120-tips\" v-if=\"!disabledEdit\">\r\n                <span>替换</span> |\r\n                <span @click.stop=\"e => (form.pic_url = '')\">删除</span>\r\n              </div>\r\n            </div>\r\n          </pictureDialog>\r\n        </div>\r\n        <div class=\"le-prompt-text\">建议尺寸：300像素 * 300像素，图片大小不得超过1M</div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品价格\" prop=\"price_type\">\r\n        <el-radio-group v-model=\"form.price_type\" @change=\"priceTypeChange\">\r\n          <el-radio :label=\"1\">一口价</el-radio>\r\n          <el-radio :label=\"2\">价格区间</el-radio>\r\n          <el-radio :label=\"3\">折扣价</el-radio>\r\n        </el-radio-group>\r\n        <div v-if=\"form.price_type === 1\">\r\n          <el-input @input=\"formatNum(form.price, 'price')\" v-model=\"form.price\">\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n        </div>\r\n        <div v-else-if=\"form.price_type === 2\" class=\"le-small-input\">\r\n          <el-input @input=\"formatNum(form.price, 'price')\" v-model=\"form.price\">\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n          <span>至</span>\r\n          <el-input @input=\"formatNum(form.price2, 'price2')\" v-model=\"form.price2\">\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n        </div>\r\n        <div v-else-if=\"form.price_type === 3\" class=\"le-small-input\">\r\n          <span>原价</span>\r\n          <el-input @input=\"formatNum(form.price, 'price')\" v-model=\"form.price\">\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n          <span>现价</span>\r\n          <el-input @input=\"formatNum(form.price2, 'price2')\" v-model=\"form.price2\">\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"le-cardpin\">\r\n      <el-button type=\"primary\" :loading=\"loading\" @click=\"submit\">保存</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\nimport goodsSelect from '../../components/goodsSelet/index.vue';\r\n\r\nexport default {\r\n  components: {\r\n    goodsSelect\r\n  },\r\n  data() {\r\n    const checkGoodsId = (rule, value, callback) => {\r\n      if (isNaN(value)) {\r\n        callback('请输入正整数');\r\n      }\r\n      callback();\r\n    };\r\n    const checkPrice = (rule, value, callback) => {\r\n      if (value === 1) {\r\n        if (!this.form.price) {\r\n          callback('请输入商品价格');\r\n        }\r\n      } else if (value === 2) {\r\n        if (!this.form.price || !this.form.price2) {\r\n          callback('请输入商品价格');\r\n        }\r\n        if (this.form.price > this.form.price2) {\r\n          callback('请正确书写价格区间');\r\n        }\r\n      } else if (value === 3) {\r\n        if (!this.form.price || !this.form.price2) {\r\n          callback('请输入商品价格');\r\n        }\r\n      }\r\n      callback();\r\n    };\r\n    const checkGoodsName = (rule, value, callback) => {\r\n      if (value.length > 14) {\r\n        callback('商品名称最大为14字符');\r\n      }\r\n      callback();\r\n    };\r\n\r\n    const checkGoods = (rule, value, callback) => {\r\n      if (!value || Object.keys(value).length === 0) {\r\n        callback('请选择商品');\r\n      }\r\n      callback();\r\n    };\r\n    return {\r\n      is_show: null,\r\n      form: {\r\n        my_goods_id: null,\r\n        goods_name: '',\r\n        pic_url: '',\r\n        price_type: 1,\r\n        price: '',\r\n        price2: '',\r\n        page_url: '',\r\n        goods: {}\r\n      },\r\n      rules: {\r\n        my_goods_id: [{ validator: checkGoodsId, trigger: 'blur' }],\r\n        price_type: [\r\n          { required: true, message: '请输入商品价格', trigger: 'blur' },\r\n          { validator: checkPrice, trigger: 'blur' }\r\n        ],\r\n        pic_url: [{ required: true, message: '请添加商品封面', trigger: 'blur' }],\r\n        goods_name: [\r\n          { required: true, message: '请添加商品名称', trigger: 'blur' },\r\n          { validator: checkGoodsName, trigger: 'blur' }\r\n        ],\r\n        goods: [{ required: true, validator: checkGoods, trigger: 'blur' }]\r\n      },\r\n      loading: false\r\n    };\r\n  },\r\n  /**\r\n   * 计算属性\r\n   * @type {Object}\r\n   */\r\n  computed: {\r\n    disabledEdit() {\r\n      return this.$route.query.status && this.$route.query.status === '2';\r\n    }\r\n  },\r\n  /**\r\n   * 页面渲染前\r\n   * @return {[type]} [description]\r\n   */\r\n  created() {},\r\n  /**\r\n   * 数据监听\r\n   * @type {Object}\r\n   */\r\n  watch: {},\r\n  /**\r\n   * 页面加载执行\r\n   * @return {[type]} [description]\r\n   */\r\n  async mounted() {\r\n    const { goodsId } = this.$route.query;\r\n    if (goodsId) {\r\n      const storage = JSON.parse(localStorage.getItem('editLiveGood'));\r\n      console.log(storage);\r\n      this.form = storage;\r\n      if (!storage.is_show) this.is_show = true;\r\n      this.form = {\r\n        my_goods_id: null,\r\n        goods_name: storage.name,\r\n        pic_url: storage.cover_img_base64,\r\n        price_type: storage.price_type,\r\n        price: storage.price,\r\n        price2: storage.price2,\r\n        page_url: storage.new_url,\r\n        goods_id: storage.goods_id,\r\n        goods: storage.goods ? storage.goods : {}\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    priceTypeChange() {\r\n      this.form.price = '';\r\n      this.form.price2 = '';\r\n      this.$refs['form'].clearValidate('price_type');\r\n    },\r\n    // 获取商品图片和名字\r\n    getGoodDetail() {\r\n      this.$refs.goodsSelect.handleClick();\r\n      // this.$refs[\"form\"].clearValidate();\r\n      // this.loading = true;\r\n      // this.$heshop.goods('get', parseInt(this.form.my_goods_id)).then(response => {\r\n      //   this.form.pic_url = response.slideshow[0];\r\n      //   this.form.goods_name = response.name;\r\n      //   this.form.page_url = this.form.my_goods_id;\r\n      //   if (response.name.length > 14) {\r\n      //     this.$refs['form'].validateField('goods_name');\r\n      //   }\r\n      //   this.loading = false;\r\n      // }).catch(error => {\r\n      //   this.loading = false;\r\n      //   this.$heshop.error(error.data.message);\r\n      // });\r\n    },\r\n    submit() {\r\n      this.$refs['form'].clearValidate();\r\n      this.$refs['form'].validate(valid => {\r\n        if (valid) {\r\n          this.loading = true;\r\n          const form = JSON.parse(JSON.stringify(this.form));\r\n          form.page_url = form.goods.id;\r\n          delete form.my_goods_id;\r\n          delete form.goods;\r\n          this.$heshop\r\n            .livegoods('post', form)\r\n            .then(() => {\r\n              this.loading = false;\r\n              this.$router.back();\r\n            })\r\n            .catch(error => {\r\n              this.loading = false;\r\n              this.$message.error(error.data.message);\r\n            });\r\n        }\r\n      });\r\n    },\r\n    formatNum(val, key) {\r\n      let temp = val.toString();\r\n      temp = temp.replace(/。/g, '.');\r\n      temp = temp.replace(/[^\\d.]/g, ''); //清除\"数字\"和\".\"以外的字符\r\n      temp = temp.replace(/^\\./g, ''); //验证第一个字符是数字\r\n      temp = temp.replace(/\\.{2,}/g, ''); //只保留第一个, 清除多余的\r\n      temp = temp.replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.');\r\n      temp = temp.replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3'); //只能输入两个小数\r\n      this.form[key] = temp;\r\n    },\r\n    confirmGoods(val) {\r\n      this.form.goods_name = val.name;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped=\"true\">\r\n@import './../index.less';\r\n\r\n.le-main {\r\n  padding-top: 40px;\r\n}\r\n\r\n.el-radio-group {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.le-search--id::v-deep {\r\n  .el-input-group__append {\r\n    padding: 0 10px;\r\n  }\r\n}\r\n\r\n.le-still ::v-deep {\r\n  .select-cover__120-edit {\r\n    cursor: not-allowed !important;\r\n  }\r\n}\r\n\r\n.le-small-input::v-deep {\r\n  .el-input {\r\n    width: 150px;\r\n  }\r\n\r\n  > span {\r\n    display: inline-block;\r\n    font-size: 14px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    color: #595959;\r\n    padding: 0 9px;\r\n  }\r\n}\r\n\r\n.le-goods {\r\n  width: 580px;\r\n  height: 72px;\r\n  border: 1px solid #dcdfe6;\r\n  border-radius: 8px;\r\n  margin-top: 15px;\r\n  padding: 12px 24px;\r\n}\r\n\r\n.le-goods--image {\r\n  width: 48px;\r\n  height: 48px;\r\n}\r\n\r\n.le-goods--name {\r\n  font-size: 14px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: 400;\r\n  color: #262626;\r\n  line-height: 24px;\r\n  height: 48px;\r\n  margin-left: 24px;\r\n  margin-right: 20px;\r\n}\r\n\r\n::v-deep .el-button[disabled] {\r\n  color: #bfbfbf !important;\r\n  border: 1px solid #dcdfe6 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./addLiveGood.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./addLiveGood.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addLiveGood.vue?vue&type=template&id=4b84cbbc&scoped=true&\"\nimport script from \"./addLiveGood.vue?vue&type=script&lang=js&\"\nexport * from \"./addLiveGood.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addLiveGood.vue?vue&type=style&index=0&id=4b84cbbc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b84cbbc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}