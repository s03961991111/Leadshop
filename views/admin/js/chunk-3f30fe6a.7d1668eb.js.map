{"version":3,"sources":["webpack:///./src/plugins/task/order.vue?9fb4","webpack:///./src/plugins/task/order.vue?0a8d","webpack:///src/plugins/task/order.vue","webpack:///./src/plugins/task/order.vue?a7d4","webpack:///./src/plugins/task/order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","formValue","rules","prop","order","on","onSubmit","nativeOn","$event","type","indexOf","_k","keyCode","key","apply","arguments","model","value","callback","$$v","$set","expression","staticStyle","_v","handleChange","onEmpty","tableData","handleSortMethod","scopedSlots","_u","fn","scope","row","goods","goods_image","_s","_f","goods_name","show_goods_param","oauth","user","nickname","UID","order_sn","total_score","total_amount","goods_number","created_time","page","current","count","currentChange","sizeChange","staticRenderFns","data","validateStart","score_start","Error","console","log","score_end","size","search","date","filters","dateFormat","undefined","capitalize","length","slice","computed","created","watch","methods","$refs","ruleForm","validate","valid","e","handleLogLoad","resetFields","$heshop","plugin","res","headers","total","$emit","component"],"mappings":"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","file":"js/chunk-3f30fe6a.7d1668eb.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=style&index=0&id=87e3cbbe&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task-content\"},[_c('div',{staticClass:\"__search\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formValue,\"rules\":_vm.rules,\"label-width\":\"100px\",\"default-sort\":{prop: 'created_time', order: 'descending'}}},[_c('div',[_c('el-form-item',{attrs:{\"label\":\"关键词搜索\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品名称/输入用户昵称/用户ID搜索\",\"clearable\":\"\"},on:{\"clear\":_vm.onSubmit},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit.apply(null, arguments)}},model:{value:(_vm.formValue.search),callback:function ($$v) {_vm.$set(_vm.formValue, \"search\", $$v)},expression:\"formValue.search\"}})],1),_c('el-form-item',{attrs:{\"label\":\"积分价格\",\"prop\":\"score_start\"}},[_c('el-input',{attrs:{\"placeholder\":\"积分的最低值\"},model:{value:(_vm.formValue.score_start),callback:function ($$v) {_vm.$set(_vm.formValue, \"score_start\", $$v)},expression:\"formValue.score_start\"}}),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"47px\",\"height\":\"32px\",\"line-height\":\"32px\",\"text-align\":\"center\"}},[_vm._v(\"至\")]),_c('el-form-item',{staticStyle:{\"display\":\"inline-block\",\"margin-bottom\":\"0\"},attrs:{\"prop\":\"score_end\"}},[_c('el-input',{attrs:{\"placeholder\":\"积分的最高值\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.formValue.score_end),callback:function ($$v) {_vm.$set(_vm.formValue, \"score_end\", $$v)},expression:\"formValue.score_end\"}})],1)],1)],1),_c('div',[_c('el-form-item',{attrs:{\"label\":\"兑换时间\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始时间\",\"end-placeholder\":\"结束时间\"},model:{value:(_vm.formValue.date),callback:function ($$v) {_vm.$set(_vm.formValue, \"date\", $$v)},expression:\"formValue.date\"}})],1)],1),_c('div',{staticStyle:{\"padding-left\":\"100px\"}},[_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"筛选\")]),_c('el-button',{on:{\"click\":_vm.onEmpty}},[_vm._v(\"清空\")])],1)],1)])],1),_c('div',{staticClass:\"__content\",staticStyle:{\"padding-top\":\"24px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"default-sort\":{prop: 'created_time', order: 'descending'}},on:{\"sort-change\":_vm.handleSortMethod}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"商品描述\",\"min-width\":\"312\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"__goods_cover\"},[_c('img',{attrs:{\"src\":scope.row.goods[0].goods_image,\"alt\":\"\"}}),_c('div',{staticClass:\"__goods_title\"},[_c('h3',[_vm._v(_vm._s(_vm._f(\"capitalize\")(scope.row.goods[0].goods_name)))]),_c('p',[_vm._v(_vm._s(scope.row.goods[0].show_goods_param))])])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"user\",\"label\":\"用户\",\"min-width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"__content_cover\"},[(scope.row.oauth.type =='weapp')?_c('i',{staticClass:\"le-icon le-icon-xiaochengxu\",staticStyle:{\"color\":\"#623CEB\"}}):_c('i',{staticClass:\"le-icon le-icon-weixin2\",staticStyle:{\"color\":\"#3BB430\"}}),_c('div',{staticClass:\"__content_title\"},[_c('h3',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(scope.row.user.nickname))]),_c('p',[_vm._v(\"ID:\"+_vm._s(scope.row.UID))])])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"order_sn\",\"label\":\"订单号\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.order_sn)?_c('he-link',{attrs:{\"href\":\"order/orderDetail\",\"query\":{ order_sn: scope.row.order_sn }}},[_c('p',{staticClass:\"task_tab_tl\",staticStyle:{\"color\":\"#623CEB\",\"font-weight\":\"400\"}},[_vm._v(_vm._s(scope.row.order_sn || \"-\"))])]):_c('p',{staticClass:\"task_tab_tl\",staticStyle:{\"color\":\"#623CEB\",\"font-weight\":\"400\"}},[_vm._v(\"-\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"total_score\",\"label\":\"积分价格\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(scope.row.total_score)+\"积分 + ¥\"+_vm._s(scope.row.total_amount))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"order_sn\",\"label\":\"兑换数量\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"task_tab_tl\"},[_vm._v(\" \"+_vm._s(scope.row.goods[0].goods_number)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"created_time\",\"label\":\"兑换时间\",\"sortable\":\"custom\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(scope.row.created_time)))])]}}])})],1),_c('div',{staticClass:\"__paging\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.page.current,\"page-count\":_vm.page.count,\"background\":\"\",\"layout\":\"prev, pager, next, jumper\"},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.sizeChange}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"task-content\">\r\n    <div class=\"__search\">\r\n      <el-form :inline=\"true\" :model=\"formValue\" ref=\"ruleForm\" :rules=\"rules\" class=\"demo-form-inline\" label-width=\"100px\" :default-sort=\"{prop: 'created_time', order: 'descending'}\">\r\n        <div>\r\n          <el-form-item label=\"关键词搜索\">\r\n            <el-input v-model=\"formValue.search\" placeholder=\"请输入商品名称/输入用户昵称/用户ID搜索\" @keyup.enter.native=\"onSubmit\" @clear=\"onSubmit\" clearable></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"积分价格\" prop=\"score_start\">\r\n            <el-input v-model=\"formValue.score_start\" placeholder=\"积分的最低值\"></el-input>\r\n            <span style=\"display: inline-block;width: 47px; height: 32px; line-height: 32px;text-align: center;\">至</span>\r\n            <el-form-item prop=\"score_end\" style=\"display: inline-block; margin-bottom: 0\">\r\n              <el-input v-model=\"formValue.score_end\" placeholder=\"积分的最高值\" @change=\"handleChange\"></el-input>\r\n            </el-form-item>\r\n          </el-form-item>\r\n        </div>\r\n        <div>\r\n          <el-form-item label=\"兑换时间\">\r\n            <el-date-picker v-model=\"formValue.date\" type=\"datetimerange\" range-separator=\"至\" start-placeholder=\"开始时间\" end-placeholder=\"结束时间\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </div>\r\n        <div style=\"padding-left: 100px\">\r\n          <el-form-item style=\"margin-bottom: 0\">\r\n            <el-button type=\"primary\" @click=\"onSubmit\">筛选</el-button>\r\n            <el-button @click=\"onEmpty\">清空</el-button>\r\n          </el-form-item>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"__content\" style=\"padding-top: 24px;\">\r\n      <el-table :data=\"tableData\" style=\"width: 100%\" :default-sort=\"{prop: 'created_time', order: 'descending'}\" @sort-change=\"handleSortMethod\">\r\n        <el-table-column prop=\"name\" label=\"商品描述\" min-width=\"312\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"__goods_cover\">\r\n              <img :src=\"scope.row.goods[0].goods_image\" alt=\"\">\r\n              <div class=\"__goods_title\">\r\n                <h3>{{ scope.row.goods[0].goods_name | capitalize}}</h3>\r\n                <p>{{scope.row.goods[0].show_goods_param}}</p>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"user\" label=\"用户\" min-width=\"220\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"__content_cover\">\r\n              <i class=\"le-icon le-icon-xiaochengxu\" style=\"color: #623CEB\" v-if=\"scope.row.oauth.type =='weapp'\"></i>\r\n              <i class=\"le-icon le-icon-weixin2\" style=\"color: #3BB430\" v-else></i>\r\n              <div class=\"__content_title\">\r\n                <h3 class=\"task_tab_tl\">{{ scope.row.user.nickname}}</h3>\r\n                <p>ID:{{scope.row.UID}}</p>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"order_sn\" label=\"订单号\" min-width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <he-link href=\"order/orderDetail\" :query=\"{ order_sn: scope.row.order_sn }\" v-if=\"scope.row.order_sn\">\r\n              <p class=\"task_tab_tl\" style=\"color: #623CEB;font-weight: 400;\">{{scope.row.order_sn || \"-\"}}</p>\r\n            </he-link>\r\n            <p v-else class=\"task_tab_tl\" style=\"color: #623CEB;font-weight: 400;\">-</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"total_score\" label=\"积分价格\" min-width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <p class=\"task_tab_tl\">{{scope.row.total_score}}积分 + ¥{{scope.row.total_amount}}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"order_sn\" label=\"兑换数量\" min-width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <p class=\"task_tab_tl\">\r\n              {{scope.row.goods[0].goods_number}}\r\n            </p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"created_time\" label=\"兑换时间\" sortable=\"custom\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <p class=\"task_tab_tl\">{{scope.row.created_time | dateFormat}}</p>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"__paging\">\r\n        <el-pagination :current-page=\"page.current\" :page-count=\"page.count\" @current-change=\"currentChange\" @size-change=\"sizeChange\" background=\"\" layout=\"prev, pager, next, jumper\">\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport moment from \"moment\";\r\nexport default {\r\n  data() {\r\n    var validateStart = (rule, value, callback) => {\r\n      let score_start = Number(this.formValue.score_start)\r\n      let score_end = this.formValue.score_end ? Number(this.formValue.score_end) : ''\r\n      if (score_start) {\r\n        if (!(score_start % 1 === 0)) {\r\n          callback(new Error('积分必须是整数'));\r\n          return;\r\n        }\r\n        console.log(\"score_end === 0\", score_end, score_end === 0)\r\n        if (score_end || score_end === 0) {\r\n          if (score_start > score_end) {\r\n            callback(new Error('最低值需小于或等于最高值'));\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      callback();\r\n    };\r\n    var validateEnd = (rule, value, callback) => {\r\n      let score_start = Number(this.formValue.score_start)\r\n      let score_end = Number(this.formValue.score_end)\r\n      if (score_start) {\r\n        if (!(score_end % 1 === 0)) {\r\n          callback(new Error('积分必须是整数'));\r\n        }\r\n        if (score_start > score_end) {\r\n          callback(new Error('最高值需大于或等于最高低'));\r\n        } else {\r\n          callback();\r\n        }\r\n      } else {\r\n        callback();\r\n      }\r\n\r\n    };\r\n    return {\r\n      /**\r\n       * 分页数据\r\n       * @type {Object}\r\n       */\r\n      page: {\r\n        size: 20,\r\n        current: 1,\r\n      },\r\n      /**\r\n       * 表格数据\r\n       * @type {Array}\r\n       */\r\n      tableData: [],\r\n      /**\r\n       * 表单数据\r\n       * @type {Object}\r\n       */\r\n      formValue: {\r\n        search: '',\r\n        score_start: '',\r\n        score_end: '',\r\n        date: []\r\n      },\r\n      /**\r\n       * 验证规则\r\n       * @type {Object}\r\n       */\r\n      rules: {\r\n        score_start: [\r\n\r\n          { validator: validateStart, trigger: 'blur' }\r\n        ],\r\n        // score_end: [\r\n\r\n        //   { validator: validateEnd, trigger: 'blur' }\r\n        // ]\r\n      }\r\n    };\r\n  },\r\n  filters: {\r\n    /**\r\n     * 格式化时间\r\n     * @param  {[type]} row    [description]\r\n     * @param  {[type]} column [description]\r\n     * @return {[type]}        [description]\r\n     */\r\n    dateFormat(date) {\r\n      if (date === undefined) {\r\n        return ''\r\n      }\r\n      return moment(date * 1000).format(\"YYYY-MM-DD HH:mm:ss\")\r\n    },\r\n    capitalize: function(value) {\r\n      if (value.length >= 32) {\r\n        return value.slice(0, 29) + \"...\";\r\n      } else {\r\n        return value;\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * 计算属性\r\n   * @type {Object}\r\n   */\r\n  computed: {\r\n\r\n  },\r\n  /**\r\n   * 页面渲染前\r\n   * @return {[type]} [description]\r\n   */\r\n  created() {\r\n\r\n  },\r\n  /**\r\n   * 数据监听\r\n   * @type {Object}\r\n   */\r\n  watch: {\r\n\r\n  },\r\n  /**\r\n   * 页面加载执行\r\n   * @return {[type]} [description]\r\n   */\r\n  async mounted() {\r\n    this.handleLogLoad();\r\n  },\r\n  methods: {\r\n    handleChange() {\r\n      this.$refs.ruleForm.validate((valid) => {\r\n        console.log(\"执行的\", valid)\r\n      });\r\n    },\r\n    handleSortMethod(e) {\r\n      if (e.order == 'ascending') {\r\n        this.formValue['sort'] = {\r\n          \"o.created_time\": \"ASC\"\r\n        }\r\n      }\r\n      if (e.order == 'descending') {\r\n        this.formValue['sort'] = {\r\n          \"o.created_time\": \"DESC\"\r\n        }\r\n      }\r\n      if (e.order == null) {\r\n        this.formValue['sort'] = {}\r\n      }\r\n      this.handleLogLoad();\r\n\r\n    },\r\n    onEmpty() {\r\n      this.formValue = {\r\n        search: '',\r\n        score_start: '',\r\n        score_end: '',\r\n        date: []\r\n      }\r\n      this.$refs.ruleForm.resetFields();\r\n      this.handleLogLoad();\r\n    },\r\n    /**\r\n     * 加载商品数据\r\n     * @param  {Function} done [description]\r\n     * @return {[type]}        [description]\r\n     */\r\n    handleLogLoad() {\r\n      let keyword = JSON.parse(JSON.stringify(this.formValue));\r\n      let { page } = this;\r\n      //执行API方法\r\n      this.$heshop.plugin(\"get\", { include: \"task\", model: \"order\", keyword: JSON.stringify(keyword) }).page(page.current, page.size).then(res => {\r\n        console.log(\"res\", res)\r\n        //判断文件是否存在\r\n        if (res && res.headers) {\r\n          let { data, headers } = res;\r\n          this.page = {\r\n            current: +headers[\"x-pagination-current-page\"],\r\n            count: +headers[\"x-pagination-page-count\"],\r\n            size: +headers[\"x-pagination-per-page\"],\r\n            total: +headers[\"x-pagination-total-count\"],\r\n          };\r\n          this.tableData = data;\r\n        }\r\n      }).catch(err => {\r\n        this.$message.error('加载配置信息失败，请检查网络');\r\n      })\r\n    },\r\n    /**\r\n     * 提交数据\r\n     * @return {[type]} [description]\r\n     */\r\n    onSubmit() {\r\n      this.handleLogLoad();\r\n    },\r\n    /**\r\n     * 跳页\r\n     * @param  {[type]} e [description]\r\n     * @return {[type]}   [description]\r\n     */\r\n    sizeChange: function(e) {\r\n      this.page.size = e;\r\n      this.handleLogLoad();\r\n      this.$emit(\"request\", { page: this.page, sort: this.order });\r\n    },\r\n    /**\r\n     * 跳页\r\n     * @param  {[type]} e [description]\r\n     * @return {[type]}   [description]\r\n     */\r\n    currentChange: function(e) {\r\n      this.page.current = e;\r\n      this.handleLogLoad();\r\n      this.$emit(\"request\", { page: this.page, sort: this.order });\r\n    },\r\n  }\r\n};\r\n\r\n</script>\r\n<style lang=\"less\" scoped=\"true\">\r\n@import \"./task.less\";\r\n\r\n.task-content {\r\n  .__content_cover {\r\n    position: relative;\r\n    padding-left: 25px;\r\n    margin-bottom: 10px;\r\n    margin-top: 10px;\r\n\r\n    h3,\r\n    p {\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n\r\n    .le-icon {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 5px;\r\n      font-size: 16px;\r\n      height: 16px;\r\n      line-height: 16px;\r\n      width: 16px;\r\n    }\r\n  }\r\n\r\n  .__goods_cover {\r\n    display: flex;\r\n    position: relative;\r\n\r\n    img {\r\n      width: 64px;\r\n      height: 64px;\r\n      background: #F2F2F2;\r\n      margin-right: 12px;\r\n    }\r\n\r\n    .__goods_title {\r\n      display: table;\r\n      height: 48px;\r\n      width: 230px;\r\n\r\n      h3 {\r\n        padding: 0;\r\n        margin: 0;\r\n        font-size: 14px;\r\n        font-weight: 400;\r\n        color: #262626;\r\n        line-height: 18px;\r\n        margin-bottom: 4px;\r\n        padding-right: 4px;\r\n      }\r\n\r\n      p {\r\n        padding: 0;\r\n        margin: 0;\r\n        line-height: 16px;\r\n        font-size: 12px;\r\n        font-weight: 400;\r\n        color: #8C8C8C;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./order.vue?vue&type=template&id=87e3cbbe&scoped=true&\"\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=87e3cbbe&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87e3cbbe\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}