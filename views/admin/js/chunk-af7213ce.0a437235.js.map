{"version":3,"sources":["webpack:///./src/plugins/task/record.vue?ce66","webpack:///./src/plugins/task/record.vue?5525","webpack:///src/plugins/task/record.vue","webpack:///./src/plugins/task/record.vue?2e61","webpack:///./src/plugins/task/record.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","formValue","rules","on","onSubmit","nativeOn","$event","type","indexOf","_k","keyCode","key","apply","arguments","model","value","callback","$$v","$set","expression","staticStyle","_v","handleChange","onEmpty","tableData","prop","order","handleSortMethod","scopedSlots","_u","fn","scope","row","oauth","_s","user","nickname","UID","number","order_sn","remark","_f","start_time","page","current","count","currentChange","sizeChange","staticRenderFns","data","validateStart","score_start","Error","console","log","score_end","size","search","date","filters","dateFormat","undefined","capitalize","length","slice","computed","created","watch","methods","$refs","ruleForm","validate","valid","e","handleLogLoad","resetFields","isInteger","obj","keyword","$heshop","plugin","res","headers","total","err","$message","error","$emit","component"],"mappings":"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","file":"js/chunk-af7213ce.0a437235.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./record.vue?vue&type=style&index=0&id=25134787&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task-content\"},[_c('div',{staticClass:\"__search\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formValue,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('div',[_c('el-form-item',{attrs:{\"label\":\"用户搜索\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入用户昵称/用户ID搜索\",\"clearable\":\"\"},on:{\"clear\":_vm.onSubmit},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit.apply(null, arguments)}},model:{value:(_vm.formValue.search),callback:function ($$v) {_vm.$set(_vm.formValue, \"search\", $$v)},expression:\"formValue.search\"}})],1),_c('el-form-item',{attrs:{\"label\":\"积分收支\",\"prop\":\"score_start\"}},[_c('el-input',{attrs:{\"placeholder\":\"积分的最低值\"},model:{value:(_vm.formValue.score_start),callback:function ($$v) {_vm.$set(_vm.formValue, \"score_start\", $$v)},expression:\"formValue.score_start\"}}),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"47px\",\"height\":\"32px\",\"line-height\":\"32px\",\"text-align\":\"center\"}},[_vm._v(\"至\")]),_c('el-form-item',{staticStyle:{\"display\":\"inline-block\",\"margin-bottom\":\"0\"},attrs:{\"prop\":\"score_end\"}},[_c('el-input',{attrs:{\"placeholder\":\"积分的最高值\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.formValue.score_end),callback:function ($$v) {_vm.$set(_vm.formValue, \"score_end\", $$v)},expression:\"formValue.score_end\"}})],1)],1)],1),_c('div',[_c('el-form-item',{attrs:{\"label\":\"变动时间\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始时间\",\"end-placeholder\":\"结束时间\"},model:{value:(_vm.formValue.date),callback:function ($$v) {_vm.$set(_vm.formValue, \"date\", $$v)},expression:\"formValue.date\"}})],1)],1),_c('div',{staticStyle:{\"padding-left\":\"100px\"}},[_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"筛选\")]),_c('el-button',{on:{\"click\":_vm.onEmpty}},[_vm._v(\"清空\")])],1)],1)])],1),_c('div',{staticClass:\"__content\",staticStyle:{\"padding-top\":\"24px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"default-sort\":{prop: 'start_time', order: 'descending'}},on:{\"sort-change\":_vm.handleSortMethod}},[_c('el-table-column',{attrs:{\"prop\":\"UID\",\"label\":\"用户\",\"min-width\":\"312\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"__content_cover\"},[(scope.row.oauth.type =='weapp')?_c('i',{staticClass:\"le-icon le-icon-xiaochengxu\",staticStyle:{\"color\":\"#623CEB\"}}):_c('i',{staticClass:\"le-icon le-icon-weixin2\",staticStyle:{\"color\":\"#3BB430\"}}),_c('div',{staticClass:\"__content_title\"},[_c('h3',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(scope.row.user.nickname))]),_c('p',[_vm._v(\"ID:\"+_vm._s(scope.row.UID))])])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"积分收支\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type=='add')?_c('p',{staticClass:\"task_tab_tl\",staticStyle:{\"color\":\"#53C41A\"}},[_vm._v(\"+\"+_vm._s(scope.row.number))]):_c('p',{staticClass:\"task_tab_tl\",staticStyle:{\"color\":\"#F5212D\"}},[_vm._v(_vm._s(scope.row.number))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"order_id\",\"label\":\"订单号\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.order_sn)?_c('he-link',{attrs:{\"href\":\"order/orderDetail\",\"query\":{ order_sn: scope.row.order_sn }}},[_c('p',{staticClass:\"task_tab_tl\",staticStyle:{\"color\":\"#623CEB\",\"font-weight\":\"400\"}},[_vm._v(_vm._s(scope.row.order_sn || \"-\"))])]):_c('p',{staticClass:\"task_tab_tl\",staticStyle:{\"color\":\"#623CEB\",\"font-weight\":\"400\"}},[_vm._v(\"-\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"收支说明\",\"min-width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(scope.row.remark))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"start_time\",\"label\":\"变动时间\",\"sortable\":\"custom\",\"min-width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(scope.row.start_time)))])]}}])})],1),_c('div',{staticClass:\"__paging\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.page.current,\"page-count\":_vm.page.count,\"background\":\"\",\"layout\":\"prev, pager, next, jumper\"},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.sizeChange}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"task-content\">\r\n    <div class=\"__search\">\r\n      <el-form :inline=\"true\" :model=\"formValue\" ref=\"ruleForm\" :rules=\"rules\" class=\"demo-form-inline\" label-width=\"100px\">\r\n        <div>\r\n          <el-form-item label=\"用户搜索\">\r\n            <el-input v-model=\"formValue.search\" placeholder=\"输入用户昵称/用户ID搜索\" @keyup.enter.native=\"onSubmit\" @clear=\"onSubmit\" clearable></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"积分收支\" prop=\"score_start\">\r\n            <el-input v-model=\"formValue.score_start\" placeholder=\"积分的最低值\"></el-input>\r\n            <span style=\"display: inline-block;width: 47px; height: 32px; line-height: 32px;text-align: center;\">至</span>\r\n            <el-form-item prop=\"score_end\" style=\"display: inline-block; margin-bottom: 0\">\r\n              <el-input v-model=\"formValue.score_end\" placeholder=\"积分的最高值\" @change=\"handleChange\"></el-input>\r\n            </el-form-item>\r\n          </el-form-item>\r\n        </div>\r\n        <div>\r\n          <el-form-item label=\"变动时间\">\r\n            <el-date-picker v-model=\"formValue.date\" type=\"datetimerange\" range-separator=\"至\" start-placeholder=\"开始时间\" end-placeholder=\"结束时间\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </div>\r\n        <div style=\"padding-left: 100px\">\r\n          <el-form-item style=\"margin-bottom: 0\">\r\n            <el-button type=\"primary\" @click=\"onSubmit\">筛选</el-button>\r\n            <el-button @click=\"onEmpty\">清空</el-button>\r\n          </el-form-item>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"__content\" style=\"padding-top: 24px;\">\r\n      <el-table :data=\"tableData\" style=\"width: 100%\" @sort-change=\"handleSortMethod\" :default-sort=\"{prop: 'start_time', order: 'descending'}\">\r\n        <el-table-column prop=\"UID\" label=\"用户\" min-width=\"312\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"__content_cover\">\r\n              <i class=\"le-icon le-icon-xiaochengxu\" style=\"color: #623CEB\" v-if=\"scope.row.oauth.type =='weapp'\"></i>\r\n              <i class=\"le-icon le-icon-weixin2\" style=\"color: #3BB430\" v-else></i>\r\n              <div class=\"__content_title\">\r\n                <h3 class=\"task_tab_tl\">{{ scope.row.user.nickname}}</h3>\r\n                <p>ID:{{scope.row.UID}}</p>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"number\" label=\"积分收支\" min-width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <p class=\"task_tab_tl\" v-if=\"scope.row.type=='add'\" style=\"color: #53C41A\">+{{scope.row.number}}</p>\r\n            <p class=\"task_tab_tl\" v-else style=\"color: #F5212D\">{{scope.row.number}}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"order_id\" label=\"订单号\" min-width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <he-link href=\"order/orderDetail\" :query=\"{ order_sn: scope.row.order_sn }\" v-if=\"scope.row.order_sn\">\r\n              <p class=\"task_tab_tl\" style=\"color: #623CEB;font-weight: 400;\">{{scope.row.order_sn || \"-\"}}</p>\r\n            </he-link>\r\n            <p v-else class=\"task_tab_tl\" style=\"color: #623CEB;font-weight: 400;\">-</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"remark\" label=\"收支说明\" min-width=\"280\">\r\n          <template slot-scope=\"scope\">\r\n            <p class=\"task_tab_tl\">{{scope.row.remark}}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"start_time\" label=\"变动时间\" sortable=\"custom\" min-width=\"280\">\r\n          <template slot-scope=\"scope\">\r\n            <p class=\"task_tab_tl\">{{scope.row.start_time | dateFormat}}</p>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"__paging\">\r\n        <el-pagination :current-page=\"page.current\" :page-count=\"page.count\" @current-change=\"currentChange\" @size-change=\"sizeChange\" background=\"\" layout=\"prev, pager, next, jumper\">\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport moment from \"moment\";\r\nexport default {\r\n  data() {\r\n    var validateStart = (rule, value, callback) => {\r\n      let score_start = Number(this.formValue.score_start)\r\n      let score_end = this.formValue.score_end ? Number(this.formValue.score_end) : ''\r\n      if (score_start) {\r\n        if (!(score_start % 1 === 0)) {\r\n          callback(new Error('积分必须是整数'));\r\n          return;\r\n        }\r\n        console.log(\"score_end === 0\", score_end, score_end === 0)\r\n        if (score_end || score_end === 0) {\r\n          if (score_start > score_end) {\r\n            callback(new Error('最低值需小于或等于最高值'));\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      callback();\r\n    };\r\n    var validateEnd = (rule, value, callback) => {\r\n      let score_start = Number(this.formValue.score_start)\r\n      let score_end = Number(this.formValue.score_end)\r\n      if (score_start) {\r\n        if (!(score_end % 1 === 0)) {\r\n          callback(new Error('积分必须是整数'));\r\n        }\r\n        if (score_start > score_end) {\r\n          callback(new Error('最高值需大于或等于最高低'));\r\n        } else {\r\n          callback();\r\n        }\r\n      } else {\r\n        callback();\r\n      }\r\n\r\n    };\r\n    return {\r\n      /**\r\n       * 分页数据\r\n       * @type {Object}\r\n       */\r\n      page: {\r\n        size: 20,\r\n        current: 1,\r\n      },\r\n      /**\r\n       * 表格数据\r\n       * @type {Array}\r\n       */\r\n      tableData: [],\r\n      /**\r\n       * 表单数据\r\n       * @type {Object}\r\n       */\r\n      formValue: {\r\n        search: '',\r\n        score_start: '',\r\n        score_end: '',\r\n        date: []\r\n      },\r\n      /**\r\n       * 验证规则\r\n       * @type {Object}\r\n       */\r\n      rules: {\r\n        score_start: [\r\n          { validator: validateStart, trigger: 'blur' }\r\n        ],\r\n        // score_end: [\r\n        //   { validator: validateEnd, trigger: 'blur' }\r\n        // ]\r\n      }\r\n    };\r\n  },\r\n  filters: {\r\n    /**\r\n     * 格式化时间\r\n     * @param  {[type]} row    [description]\r\n     * @param  {[type]} column [description]\r\n     * @return {[type]}        [description]\r\n     */\r\n    dateFormat(date) {\r\n      if (date === undefined) {\r\n        return ''\r\n      }\r\n      return moment(date * 1000).format(\"YYYY-MM-DD HH:mm:ss\")\r\n    },\r\n    capitalize: function(value) {\r\n      if (value.length >= 32) {\r\n        return value.slice(0, 29) + \"...\";\r\n      } else {\r\n        return value;\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * 计算属性\r\n   * @type {Object}\r\n   */\r\n  computed: {\r\n\r\n  },\r\n  /**\r\n   * 页面渲染前\r\n   * @return {[type]} [description]\r\n   */\r\n  created() {\r\n\r\n  },\r\n  /**\r\n   * 数据监听\r\n   * @type {Object}\r\n   */\r\n  watch: {\r\n\r\n  },\r\n  /**\r\n   * 页面加载执行\r\n   * @return {[type]} [description]\r\n   */\r\n  async mounted() {\r\n    this.handleLogLoad();\r\n  },\r\n  methods: {\r\n    handleChange() {\r\n      this.$refs.ruleForm.validate((valid) => {\r\n        console.log(\"执行的\", valid)\r\n      });\r\n    },\r\n    handleSortMethod(e) {\r\n\r\n      if (e.order == 'ascending') {\r\n        this.formValue['sort'] = {\r\n          \"s.start_time\": \"ASC\"\r\n        }\r\n      }\r\n      if (e.order == 'descending') {\r\n        this.formValue['sort'] = {\r\n          \"s.start_time\": \"DESC\"\r\n        }\r\n      }\r\n      if (e.order == null) {\r\n        this.formValue['sort'] = {}\r\n      }\r\n\r\n      this.handleLogLoad();\r\n\r\n    },\r\n    onEmpty() {\r\n      this.formValue = {\r\n        search: '',\r\n        score_start: '',\r\n        score_end: '',\r\n        date: []\r\n      }\r\n      this.$refs.ruleForm.resetFields();\r\n      this.handleLogLoad();\r\n    },\r\n    isInteger(obj) {\r\n      return obj % 1 === 0\r\n    },\r\n    /**\r\n     * 加载商品数据\r\n     * @param  {Function} done [description]\r\n     * @return {[type]}        [description]\r\n     */\r\n    handleLogLoad() {\r\n      let keyword = JSON.parse(JSON.stringify(this.formValue));\r\n      if (!this.isInteger(keyword.score_start)) {\r\n        this.$message.error('积分必须是整数');\r\n        return;\r\n      }\r\n      if (!this.isInteger(keyword.score_end)) {\r\n        this.$message.error('积分必须是整数');\r\n        return;\r\n      }\r\n      let { page } = this;\r\n      //执行API方法\r\n      this.$heshop.plugin(\"get\", { include: \"task\", model: \"user\", keyword: JSON.stringify(keyword) }).page(page.current, page.size).then(res => {\r\n        //判断文件是否存在\r\n        if (res && res.headers) {\r\n          let { data, headers } = res;\r\n          this.page = {\r\n            current: +headers[\"x-pagination-current-page\"],\r\n            count: +headers[\"x-pagination-page-count\"],\r\n            size: +headers[\"x-pagination-per-page\"],\r\n            total: +headers[\"x-pagination-total-count\"],\r\n          };\r\n          this.tableData = data;\r\n        }\r\n      }).catch(err => {\r\n        console.log('err', err)\r\n        this.$message.error('加载配置信息失败，请检查网络');\r\n      })\r\n    },\r\n    /**\r\n     * 提交数据\r\n     * @return {[type]} [description]\r\n     */\r\n    onSubmit() {\r\n      this.handleLogLoad();\r\n    },\r\n    /**\r\n     * 跳页\r\n     * @param  {[type]} e [description]\r\n     * @return {[type]}   [description]\r\n     */\r\n    sizeChange: function(e) {\r\n      this.page.size = e;\r\n      this.handleLogLoad();\r\n      this.$emit(\"request\", { page: this.page, sort: this.order });\r\n    },\r\n    /**\r\n     * 跳页\r\n     * @param  {[type]} e [description]\r\n     * @return {[type]}   [description]\r\n     */\r\n    currentChange: function(e) {\r\n      this.page.current = e;\r\n      this.handleLogLoad();\r\n      this.$emit(\"request\", { page: this.page, sort: this.order });\r\n    },\r\n  }\r\n};\r\n\r\n</script>\r\n<style lang=\"less\" scoped=\"true\">\r\n@import \"./task.less\";\r\n\r\n.task-content {\r\n  .__content_cover {\r\n    position: relative;\r\n    padding-left: 25px;\r\n    margin-bottom: 10px;\r\n    margin-top: 10px;\r\n\r\n    h3,\r\n    p {\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n\r\n    .le-icon {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 5px;\r\n      font-size: 16px;\r\n      height: 16px;\r\n      line-height: 16px;\r\n      width: 16px;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./record.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./record.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./record.vue?vue&type=template&id=25134787&scoped=true&\"\nimport script from \"./record.vue?vue&type=script&lang=js&\"\nexport * from \"./record.vue?vue&type=script&lang=js&\"\nimport style0 from \"./record.vue?vue&type=style&index=0&id=25134787&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25134787\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}