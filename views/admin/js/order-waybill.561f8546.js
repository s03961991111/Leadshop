(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order-waybill"],{"1b9d":function(t,n,e){"use strict";e.d(n,"g",(function(){return c})),e.d(n,"b",(function(){return u})),e.d(n,"a",(function(){return s})),e.d(n,"e",(function(){return d})),e.d(n,"d",(function(){return f})),e.d(n,"c",(function(){return p})),e.d(n,"f",(function(){return h}));e("b1fa"),e("f5bd"),e("2e6f"),e("af21"),e("2769"),e("ecf1"),e("eb62");var i=e("430a"),a=(e("6afd"),e("2070"),["X-PAGINATION-TOTAL-COUNT","X-PAGINATION-PER-PAGE","X-PAGINATION-PAGE-COUNT","X-PAGINATION-CURRENT-PAGE"]);function r(t){Object.keys(t.headers).forEach((function(n){t.headers[n.toUpperCase()]=t.headers[n],delete t.headers[n]}));var n={current:1,pageCount:1,totalCount:1};a.forEach((function(n){Object.keys(t.headers).map((function(e){n===e&&(t.headers[e]=parseInt(t.headers[e]))}))})),n.current=t.headers["X-PAGINATION-CURRENT-PAGE"],n.pageCount=t.headers["X-PAGINATION-PAGE-COUNT"],n.totalCount=t.headers["X-PAGINATION-TOTAL-COUNT"],t.pagination=n}var o=i["default"].prototype.$heshop,l=i["default"].prototype.$message;function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n,e){o.waybill("get").page(t,5).then((function(t){r(t);var e=t.data,i=t.pagination;n({data:e,pagination:i})})).catch((function(t){e(t),l(t.data.message)}))}))}function u(t){return new Promise((function(n){o.waybill("delete",t).then((function(t){n(t)})).catch((function(t){l(t.data.message)}))}))}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n){o.waybill("post",t).then((function(t){n(t)})).catch((function(t){l(t.data.message)}))}))}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n){o.waybill("put",t).then((function(t){n(t)})).catch((function(t){l(t.data.message)}))}))}function f(){function t(n){for(var e=0;e<n.length;e++)n[e].label=n[e].name,n[e].value=n[e].name,n[e].list&&(n[e].children=n[e].list,t(n[e].children))}return new Promise((function(n){Promise.resolve().then(e.t.bind(null,"a5f9",3)).then((function(e){t(e.default),n(e.default)}))}))}function p(){return new Promise((function(t){o.search("post",{include:"setting"},{keyword:"expressjson"}).then((function(n){n=n.map((function(t){return{value:t.name,label:t.code,is_waybill:t.is_waybill}})),t(n)})).catch((function(t){l(t.data.message)}))}))}function h(t){return new Promise((function(n){o.waybill("get",t).then((function(t){n(t)})).catch((function(t){l(t.data.message)}))}))}},"770d":function(t,n,e){"use strict";e("9f6a")},"9f6a":function(t,n,e){},cf43:function(t,n,e){"use strict";e.r(n);var i,a,r=e("4c02"),o=e.n(r),l=(e("f5bd"),e("1b9d")),c={name:"waybill",data:function(){return{list:[],pagination:{current:1,pageCount:1}}},methods:{getWaybillList:function(){var t=this;Object(l["g"])(this.pagination.current).then((function(n){t.list=n.data,t.pagination=n.pagination}))},deleteBill:function(t,n){var e=this;this.$confirm("发货信息删除请谨慎操作，确定删除？","提示").then((function(){Object(l["b"])(t.id).then((function(){e.$delete(e.list,n),0===e.list.length&&e.pagination.current>1&&(e.pagination.current-=1,e.getWaybillList())}))})).catch((function(){}))},editBill:function(t){this.$router.push({path:"/order/waybill-edit",query:{id:t.id}})},routerWaybillEdit:function(){this.$router.push({path:"/order/waybill-edit"})},switchPage:function(t){this.pagination.current=t,this.getWaybillList()},openTutorials:function(){this.$confirm("电子面单使用教程",{message:"<div>123</div>"})}},mounted:function(){this.getWaybillList()},render:function(){var t=arguments[0],n=this;return t("div",{class:"le-main"},[t("div",{class:"le-prompt"},["温馨提示：如需打印电子面单，请安装云打印。",t("el-button",{on:{click:function(){window.open("https://kbydy.cn/CloudPrint/intro")}},attrs:{type:"text"}},["安装教程"]),t("br"),"温馨提示：必看",t("el-button",o()([{attrs:{type:"text"}},{directives:[{name:"popup",modifiers:{waybillTutorials:!0}}]},{attrs:{width:"680",hide_cancel:!0,title:"电子面单使用教程",module:"order"}}]),["《电子面单使用教程》"]),t("br"),"当前支持电子面单的快递公司：申通快递、中通快递、圆通快递、韵达快递、百世快递、德邦、EMS、邮政快递包裹、优速快递、速尔快递、丰网速运、众邮快递、品骏、京广快递、极兔速递、顺丰速运"]),t("el-button",{attrs:{type:"primary"},on:{click:n.routerWaybillEdit}},["新增发货信息"]),t("div",{class:"le-card le-table"},[t("el-table",{attrs:{data:n.list,"cell-class-name":"le-table-row","header-row-class-name":"le-table-header"}},[t("el-table-column",{attrs:{label:"快递公司",prop:"company_name"}}),t("el-table-column",{attrs:{label:"发货人信息"},scopedSlots:{default:function(n){var e=n.row,i=e.name,a=e.mobile,r=e.province,o=e.city,l=e.district,c=e.address;return[[t("div",["姓名： ",i])],[t("div",["联系方式：",a])],[t("div",["地址：",r,o,l,c])]]}}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:{default:function(e){return t("div",{class:"le-table--operating flex align-center"},[t("el-button",{attrs:{type:"text"},on:{click:n.editBill.bind(n,e.row)}},["编辑"]),t("span",{class:"le-operating--line"}),t("el-button",{attrs:{type:"text"},on:{click:n.deleteBill.bind(n,e.row,e.$index)}},["删除"])])}}})]),t("div",{class:"le-pagination flex justify-end"},[t("el-pagination",{attrs:{background:!0,"current-page":n.pagination.current,"page-count":n.pagination.pageCount,layout:"prev, pager, next, jumper"},on:{"current-change":n.switchPage}})])])])}},u=c,s=(e("770d"),e("4ac2")),d=Object(s["a"])(u,i,a,!1,null,"5694cc0b",null);n["default"]=d.exports}}]);