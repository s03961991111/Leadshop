{"version":3,"sources":["webpack:///./src/practical/live/index.vue?ab5b","webpack:///./src/practical/live/index.vue?0915","webpack:///src/practical/live/index.vue","webpack:///./src/practical/live/index.vue?c413","webpack:///./src/practical/live/index.vue","webpack:///./src/practical/live/index.vue?f425"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","on","routerCreateRoom","_v","list","prop","order","scopedSlots","_u","key","fn","scope","_s","_f","row","start_time","end_time","feeds_img_base64","slot","roomid","anchor_name","live_status","$event","routerAddGood","_e","shareLiveRoom","editCreateRoom","deleteRoom","$index","page","current","count","currentChange","$set","staticRenderFns","components","data","loading","computed","created","watch","methods","getLiveList","$heshop","$router","push","localStorage","setItem","JSON","stringify","item","path","query","goods","room_id","DownloadImgZP","image","setAttribute","onload","canvas","width","height","context","drawImage","a","download","href","url","dispatchEvent","event","src","imgPath","$confirm","copy","content","success","_this","$message","filters","getTime","date","Date","component"],"mappings":"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","file":"js/chunk-b44cf872.cdae9787.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=59ebe996&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"le-main\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.routerCreateRoom}},[_vm._v(\"创建直播间\")]),_c('div',{staticClass:\"le-card\"},[_c('el-table',{staticClass:\"le-table\",attrs:{\"data\":_vm.list,\"row-class-name\":\"le-table--row\",\"default-sort\":{ prop: 'roomid', order: 'descending' }}},[_c('el-table-column',{attrs:{\"label\":\"直播时间\",\"min-width\":\"320px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"getTime\")(scope.row.start_time))+\" ~ \"+_vm._s(_vm._f(\"getTime\")(scope.row.end_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"直播间信息\",\"min-width\":\"400px\",\"sortable\":\"\",\"prop\":\"roomid\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"flex\"},[_c('el-image',{staticClass:\"le-image\",attrs:{\"src\":scope.row.feeds_img_base64}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])]),_c('div',{staticClass:\"flex-sub le-info\"},[_c('div',{staticClass:\"le-name\"},[_vm._v(_vm._s(scope.row.name))]),_c('div',{staticClass:\"le-assist\"},[_vm._v(\" 房间号：\"+_vm._s(scope.row.roomid)),_c('br'),_vm._v(\" 主播：\"+_vm._s(scope.row.anchor_name)+\" \")])])],1)}}])}),_c('el-table-column',{attrs:{\"label\":\"直播状态\",\"width\":\"156px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"effect\":\"plain\",\"size\":\"medium\",\"type\":scope.row.live_status === 101\n                ? 'success'\n                : scope.row.live_status === 102\n                ? 'warning'\n                : scope.row.live_status === 103 || scope.row.live_status === 107\n                ? 'info'\n                : scope.row.live_status === 104 || scope.row.live_status === 106\n                ? 'danger'\n                : ''}},[_vm._v(\" \"+_vm._s(scope.row.live_status === 101 ? '直播中' : scope.row.live_status === 102 ? '未开始' : scope.row.live_status === 103 ? '已结束' : scope.row.live_status === 104 ? '禁播' : scope.row.live_status === 105 ? '暂停' : scope.row.live_status === 106 ? '异常' : scope.row.live_status === 107 ? '已过期' : '')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"350px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"le-operating flex align-center\"},[(scope.row.live_status === 101 || scope.row.live_status === 102 || scope.row.live_status === 105)?[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.routerAddGood(scope.row)}}},[_vm._v(\"添加商品\")]),_c('span',{staticClass:\"le-line\"})]:_vm._e(),(scope.row.live_status !== 107)?[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.shareLiveRoom(scope.row)}}},[_vm._v(\"分享\")]),(scope.row.live_status !== 101)?_c('span',{staticClass:\"le-line\"}):_vm._e()]:_vm._e(),(scope.row.live_status === 102)?[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.editCreateRoom(scope.row)}}},[_vm._v(\"编辑\")]),_c('span',{staticClass:\"le-line\"})]:_vm._e(),(scope.row.live_status !== 106 && scope.row.live_status !== 101)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteRoom(scope.row.roomid, scope.$index)}}},[_vm._v(\"删除 \")]):_vm._e()],2)}}])})],1),_c('div',{staticClass:\"flex le-pagination justify-end\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.page.current,\"page-count\":_vm.page.count,\"layout\":\"prev, pager, next, jumper\"},on:{\"current-change\":_vm.currentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.page, \"current\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.page, \"current\", $event)}}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"le-main\" v-loading=\"loading\">\r\n    <el-button type=\"primary\" @click=\"routerCreateRoom\">创建直播间</el-button>\r\n    <div class=\"le-card\">\r\n      <el-table\r\n        :data=\"list\"\r\n        class=\"le-table\"\r\n        row-class-name=\"le-table--row\"\r\n        :default-sort=\"{ prop: 'roomid', order: 'descending' }\"\r\n      >\r\n        <el-table-column label=\"直播时间\" min-width=\"320px\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.start_time | getTime }} ~ {{ scope.row.end_time | getTime }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"直播间信息\" min-width=\"400px\" sortable prop=\"roomid\">\r\n          <div slot-scope=\"scope\" class=\"flex\">\r\n            <el-image class=\"le-image\" :src=\"scope.row.feeds_img_base64\">\r\n              <div slot=\"error\" class=\"image-slot\">\r\n                <i class=\"el-icon-picture-outline\"></i>\r\n              </div>\r\n            </el-image>\r\n            <div class=\"flex-sub le-info\">\r\n              <div class=\"le-name\">{{ scope.row.name }}</div>\r\n              <div class=\"le-assist\">\r\n                房间号：{{ scope.row.roomid }}<br />\r\n                主播：{{ scope.row.anchor_name }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-table-column>\r\n        <el-table-column label=\"直播状态\" width=\"156px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              effect=\"plain\"\r\n              size=\"medium\"\r\n              :type=\"\r\n                scope.row.live_status === 101\r\n                  ? 'success'\r\n                  : scope.row.live_status === 102\r\n                  ? 'warning'\r\n                  : scope.row.live_status === 103 || scope.row.live_status === 107\r\n                  ? 'info'\r\n                  : scope.row.live_status === 104 || scope.row.live_status === 106\r\n                  ? 'danger'\r\n                  : ''\r\n              \"\r\n            >\r\n              {{\r\n                scope.row.live_status === 101\r\n                  ? '直播中'\r\n                  : scope.row.live_status === 102\r\n                  ? '未开始'\r\n                  : scope.row.live_status === 103\r\n                  ? '已结束'\r\n                  : scope.row.live_status === 104\r\n                  ? '禁播'\r\n                  : scope.row.live_status === 105\r\n                  ? '暂停'\r\n                  : scope.row.live_status === 106\r\n                  ? '异常'\r\n                  : scope.row.live_status === 107\r\n                  ? '已过期'\r\n                  : ''\r\n              }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" min-width=\"350px\">\r\n          <div slot-scope=\"scope\" class=\"le-operating flex align-center\">\r\n            <template\r\n              v-if=\"scope.row.live_status === 101 || scope.row.live_status === 102 || scope.row.live_status === 105\"\r\n            >\r\n              <el-button type=\"text\" @click=\"routerAddGood(scope.row)\">添加商品</el-button>\r\n              <span class=\"le-line\"></span>\r\n            </template>\r\n            <template v-if=\"scope.row.live_status !== 107\">\r\n              <el-button type=\"text\" @click=\"shareLiveRoom(scope.row)\">分享</el-button>\r\n              <span class=\"le-line\" v-if=\"scope.row.live_status !== 101\"></span>\r\n            </template>\r\n            <template v-if=\"scope.row.live_status === 102\">\r\n              <el-button type=\"text\" @click=\"editCreateRoom(scope.row)\">编辑</el-button>\r\n              <span class=\"le-line\"></span>\r\n            </template>\r\n            <el-button\r\n              type=\"text\"\r\n              @click=\"deleteRoom(scope.row.roomid, scope.$index)\"\r\n              v-if=\"scope.row.live_status !== 106 && scope.row.live_status !== 101\"\r\n              >删除\r\n            </el-button>\r\n          </div>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"flex le-pagination justify-end\">\r\n        <el-pagination\r\n          background\r\n          @current-change=\"currentChange\"\r\n          :current-page.sync=\"page.current\"\r\n          :page-count=\"page.count\"\r\n          layout=\"prev, pager, next, jumper\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport copy from '@/lib/function/copy.js';\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      list: [],\r\n      page: {\r\n        count: 1,\r\n        current: 1\r\n      },\r\n      loading: false\r\n    };\r\n  },\r\n  /**\r\n   * 计算属性\r\n   * @type {Object}\r\n   */\r\n  computed: {},\r\n  /**\r\n   * 页面渲染前\r\n   * @return {[type]} [description]\r\n   */\r\n  created() {},\r\n  /**\r\n   * 数据监听\r\n   * @type {Object}\r\n   */\r\n  watch: {},\r\n  /**\r\n   * 页面加载执行\r\n   * @return {[type]} [description]\r\n   */\r\n  async mounted() {\r\n    this.getLiveList();\r\n  },\r\n  methods: {\r\n    // 获取直播列表\r\n    getLiveList() {\r\n      this.$heshop\r\n        .live('get', {\r\n          page: this.page.current,\r\n          limit: 10\r\n        })\r\n        .then(response => {\r\n          response.list.forEach(item => {\r\n            item.start_time = new Date(item.start_time);\r\n            item.end_time = new Date(item.end_time);\r\n          });\r\n          this.list = response.list;\r\n          this.page.count = response.pageCount;\r\n        })\r\n        .catch(error => {\r\n          this.$message.error(error.data.message);\r\n        });\r\n    },\r\n    // 路由到创建直播页面\r\n    routerCreateRoom() {\r\n      this.$router.push('/practical/live/createRoom');\r\n    },\r\n    // 路由到编辑直播页面\r\n    editCreateRoom(item) {\r\n      localStorage.setItem('editRoom', JSON.stringify(item));\r\n      this.$router.push({\r\n        path: '/practical/live/createRoom',\r\n        query: {\r\n          roomid: item.roomid\r\n        }\r\n      });\r\n    },\r\n    // 路由到添加商品页面\r\n    routerAddGood(item) {\r\n      let data = {\r\n        goods: item.goods,\r\n        anchor_name: item.anchor_name,\r\n        room_id: item.roomid,\r\n        feeds_img_base64: item.feeds_img_base64,\r\n        name: item.name\r\n      };\r\n      localStorage.setItem('addGoods', JSON.stringify(data));\r\n      this.$router.push({\r\n        path: '/practical/live/addGood',\r\n        query: {\r\n          room_id: item.roomid\r\n        }\r\n      });\r\n    },\r\n    currentChange() {\r\n      this.getLiveList();\r\n    },\r\n    DownloadImgZP(imgPath, name) {\r\n      const image = new Image();\r\n      // 解决跨域 Canvas 污染问题\r\n      image.setAttribute('crossOrigin', 'anonymous');\r\n      image.onload = function () {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = image.width;\r\n        canvas.height = image.height;\r\n        const context = canvas.getContext('2d');\r\n        context.drawImage(image, 0, 0, image.width, image.height);\r\n        const url = canvas.toDataURL('image/png'); // 得到图片的base64编码数据\r\n        const a = document.createElement('a'); // 生成一个a元素\r\n        const event = new MouseEvent('click'); // 创建一个单击事件\r\n        a.download = name;\r\n        a.href = url; // 将生成的URL设置为a.href属性\r\n        a.dispatchEvent(event); // 触发a的单击事件\r\n      };\r\n      image.src = imgPath;\r\n    },\r\n    shareLiveRoom(item) {\r\n      this.loading = true;\r\n      this.$heshop\r\n        .live('get', {\r\n          behavior: 'qrcode',\r\n          room_id: item.roomid\r\n        })\r\n        .then(response => {\r\n          this.loading = false;\r\n          this.$confirm('', {\r\n            customClass: 'le-share-live-room',\r\n            message: (\r\n              <div>\r\n                <div style=\"text-align: center;margin-bottom: 32px\">分享</div>\r\n                <div class=\"flex\">\r\n                  <img src={response.poster_url_img} width=\"240px\" height=\"316px\" alt=\"\" />\r\n                  <div class=\"le-right\">\r\n                    <div class=\"le-text\">直播间页面路径</div>\r\n                    <el-input class=\"le-copy\" id=\"copy-input\" disabled value={response.pagePath}>\r\n                      <el-button slot=\"append\" onClick={this.copy.bind(this, response.pagePath)}>\r\n                        复制\r\n                      </el-button>\r\n                    </el-input>\r\n                    <div class=\"le-btn\">\r\n                      <el-button onClick={this.DownloadImgZP.bind(this, response.poster_url_img, '海报')}>\r\n                        下载海报\r\n                      </el-button>\r\n                      <el-button onClick={this.DownloadImgZP.bind(this, response.cdn_url_img, '小程序码')}>\r\n                        仅下载小程序码\r\n                      </el-button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ),\r\n            showCancelButton: false,\r\n            showConfirmButton: false\r\n          })\r\n            .then(() => {})\r\n            .catch(() => {});\r\n        })\r\n        .catch(error => {\r\n          this.loading = false;\r\n          this.$message.error(error.data.message);\r\n        });\r\n    },\r\n    deleteRoom(roomId, index) {\r\n      this.$confirm('直播间删除请谨慎操作，确定删除？', {})\r\n        .then(() => {\r\n          this.$heshop\r\n            .live(\r\n              'post',\r\n              {\r\n                behavior: 'delete'\r\n              },\r\n              {\r\n                room_id: roomId\r\n              }\r\n            )\r\n            .then(() => {\r\n              this.$delete(this.list, index);\r\n            })\r\n            .catch(error => {\r\n              this.$message.error(error.data.message);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          // Don't do\r\n        });\r\n    },\r\n    copy: function (content) {\r\n      let _this = this;\r\n      copy({\r\n        content: content,\r\n        success: function () {\r\n          _this.$message.success('复制成功');\r\n        }\r\n      });\r\n    }\r\n  },\r\n  filters: {\r\n    getTime(date) {\r\n      if (!(date instanceof Date)) return '';\r\n      const month = date.getMonth() + 1;\r\n      const day = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate();\r\n      const hour = date.getHours() < 10 ? `0${date.getHours()}` : date.getHours();\r\n      const min = date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes();\r\n      return `${month}月${day}日 ${hour}:${min}`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped=\"true\">\r\n@import './../index.less';\r\n\r\n.le-card {\r\n  margin-top: 24px;\r\n\r\n  .le-image {\r\n    width: 64px;\r\n    height: 64px;\r\n  }\r\n\r\n  .le-info {\r\n    margin-left: 12px;\r\n\r\n    .le-assist {\r\n      font-size: 12px;\r\n      font-weight: 400;\r\n      color: #8c8c8c;\r\n      line-height: 16px;\r\n    }\r\n  }\r\n\r\n  .le-name {\r\n    line-height: 20px;\r\n  }\r\n}\r\n\r\n.le-table ::v-deep {\r\n  .le-table--row {\r\n    height: 90px;\r\n    font-size: 14px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    color: #262626;\r\n  }\r\n\r\n  .le-operating {\r\n    .el-button {\r\n      padding: 9px 0px;\r\n    }\r\n\r\n    .le-line {\r\n      display: inline-block;\r\n      background: #623ceb;\r\n      width: 1px;\r\n      height: 12px;\r\n      margin: 0 10px;\r\n    }\r\n  }\r\n}\r\n\r\n.le-pagination {\r\n  margin-top: 15px;\r\n}\r\n</style>\r\n\r\n<style lang=\"less\">\r\n.le-share-live-room {\r\n  .el-message-box__content {\r\n    padding: 10px 40px;\r\n\r\n    .le-right {\r\n      width: 316px;\r\n      padding-left: 15px;\r\n\r\n      .le-text {\r\n        font-size: 14px;\r\n        font-family: Microsoft YaHei;\r\n        font-weight: 400;\r\n        color: #8c8c8c;\r\n        margin: 15px 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  .le-copy {\r\n    .el-input-group__append {\r\n      color: #fff;\r\n      background: #623ceb;\r\n    }\r\n  }\r\n\r\n  .le-btn {\r\n    margin-top: 15px;\r\n\r\n    .el-button {\r\n      background: #ffffff;\r\n      border: 1px solid #623ceb;\r\n      border-radius: 4px;\r\n      color: #623ceb;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=59ebe996&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=59ebe996&lang=less&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59ebe996\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=less&\""],"sourceRoot":""}