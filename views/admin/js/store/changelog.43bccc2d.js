(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["store/changelog"],{3168:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"le-matter"},[s("el-dialog",{staticClass:"update-dialog",attrs:{title:"系统是否进行二次开发？",visible:t.dialogVisible,width:"420px","append-to-body":"","before-close":function(t){t()}},on:{"update:visible":function(i){t.dialogVisible=i}}},[s("div",{staticClass:"update-info"},[s("div",{staticClass:"update-info-item",on:{click:t.toUpdateURL}},[s("i",{staticClass:"le-icon le-icon-weiercikaifa update-icon"}),s("span",{staticClass:"update-span"},[t._v("未二次开发")]),s("i",{staticClass:"le-icon le-icon-arrow-right update-right"})]),s("div",{staticClass:"update-info-item",on:{click:t.toUpdatee}},[s("i",{staticClass:"le-icon le-icon-ercikaifa update-icon"}),s("span",{staticClass:"update-span"},[t._v("已二次开发")]),s("i",{staticClass:"le-icon le-icon-arrow-right update-right"})])])]),s("div",{staticClass:"le-header flex align-center",on:{click:t.routerIndex}},[t.auth&&t.copyright_information&&t.copyright_information.brand_name||!t.isAuth?t.auth&&t.copyright_information&&t.copyright_information.brand_name?[s("img",{staticClass:"le-header-log",staticStyle:{width:"146.25px",height:"36px"},attrs:{width:"260",height:"64",src:t.copyright_information.brand_name,alt:""}}),s("div",{staticClass:"le-header-name"},[t._v("更新日志")])]:t._e():[s("img",{staticClass:"le-header-log",attrs:{src:e("9ef1"),alt:""}}),s("div",{staticClass:"le-header-name"},[t._v("LEADSHOP更新日志")])]],2),s("div",{staticClass:"le-body"},[s("el-scrollbar",{staticStyle:{height:"100%"}},[s("div",{staticClass:"le-card"},[t._l(t.list,(function(i,e){return s("div",{key:e,staticClass:"le-time-item",class:t.list.length-1===e?"":"le-border"},[s("div",{staticClass:"le-dot",class:i.is_last_version?"le-dot-last":"le-dot-default"}),s("div",{staticClass:"le-left"},[s("div",{staticClass:"le-version"},[i.is_last_version?s("span",{staticClass:"le-version-new"},[t._v("new")]):t._e(),t._v(" V"+t._s(i.version)+" ")]),s("div",{staticClass:"le-time"},[t._v(t._s(i.time))])]),s("div",{staticClass:"le-content"},[s("div",{staticClass:"flex align-center le-content-header"},[i.is_last_version?s("button",{staticClass:"le-button",on:{click:function(i){t.dialogVisible=!0}}},[t._v("一键更新")]):t._e(),i.is_need?s("span",{staticClass:"le-prompt"},[t._v("此版本需上传小程序包重新发布")]):t._e(),i.host_version?s("div",{staticClass:"le-host-version"},[s("span",{staticClass:"le-icon le-icon-positioning"},[t._v(" 您当前的版本")])]):t._e()]),s("div",{staticClass:"le-content-info"},[t._l(i.content.slice(0,i.is_collapse?i.content.length:2),(function(i,e){return s("div",{key:e,staticClass:"le-content-info-item flex align-top"},[s("span",{staticClass:"le-tag le-icon",class:1==i.type?"le-icon-add":2==i.type?"le-icon-youhua":"le-icon-xiufu"},[t._v(" "+t._s(1==i.type?"新增":2==i.type?"优化":"修复")+" ")]),s("span",{staticClass:"le-content-info-item__text flex-sub"},[t._v(t._s(i.text))])])})),i.content.length>2?s("div",{staticClass:"le-more flex",on:{click:function(t){i.is_collapse=!i.is_collapse}}},[s("span",[t._v(t._s(i.is_collapse?"收起":"展开"))]),s("span",{staticClass:"le-icon",class:i.is_collapse?"le-icon-arrow-top":"le-icon-arrow-down"})]):t._e()],2)])])})),s("div",{staticClass:"flex justify-center le-pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next, jumper","current-page":t.pagination.current,"page-count":t.pagination.count},on:{"current-change":t.currentChange}})],1)],2)])],1)],1)},n=[],a=e("4d63"),o=(e("61d9"),e("4822"),e("7736")),l={name:"changelog",computed:Object(a["a"])({},Object(o["c"])({getStore:"setting/getStore",auth:"setting/getAuth",copyright_information:"setting/getCopyright"})),data:function(){return{dialogVisible:!1,pagination:{current:1,count:1},list:[],last_version:"1.0.0",isAuth:!1}},methods:{currentChange:function(t){this.pagination.current=t,this.getList()},toUpdatee:function(){var t=this,i=this;this.$confirm('<h3 style="text-align:center;height:22px; line-height:22px;vertical-align:top; font-size:18px;font-weight: 400;color: #262626;"><i style="color:#FF8226;font-size:22px; padding-right:12px;" class="le-icon le-icon-zhushi"></i><span style="vertical-align:middle">注意</span></h3> <p style="color: #8C8C8C;font-size: 12px;">二次开发后请慎用一键更新功能！由于二次开发所导致的系统问题，官方无法处理！</p>',"",{dangerouslyUseHTMLString:!0,distinguishCancelAndClose:!0,confirmButtonText:"仍要更新",cancelButtonText:"取消更新"}).then((function(){t.$heshop.cloud("post",{action:"update"}).then((function(t){var i=t;location.href="/leadshop.php?token="+i})).catch((function(){this.$message.error("网络开小差， 请刷新重试")}))})).catch((function(){i.dialogVisible=!1}))},toUpdateURL:function(){this.$heshop.cloud("post",{action:"update"}).then((function(t){var i=t;location.href="/leadshop.php?token="+i})).catch((function(){this.$message.error("网络开小差， 请刷新重试")}))},getList:function(){var t=this;this.$heshop.cloud("get").page(this.pagination.current,5).then((function(i){for(var e=i.version.list,s=0;s<e.length;s++)e[s].is_collapse=!1,e[s].version==i.version.host_version&&(e[s].host_version=!0),e[s].version===i.version.last_version.version&&(e[s].is_last_version=!0);t.list=i.version.list,t.pagination={current:i.version.pagination.current_page,count:i.version.pagination.page_count},t.isAuth=!0})).catch((function(t){console.error(t)}))},routerIndex:function(){this.$router.replace({path:"panel/index"})}},mounted:function(){this.getList()}},c=l,r=(e("81409"),e("cba8")),p=Object(r["a"])(c,s,n,!1,null,"4bfcc036",null);i["default"]=p.exports},"771b":function(t,i,e){},81409:function(t,i,e){"use strict";e("771b")}}]);