(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["store/update"],{"5ee5":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"le-matter"},[t._m(0),a("div",{staticClass:"le-body"},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("div",{staticClass:"le-card"},[1==t.status?a("div",{staticClass:"update-info"},[a("img",{attrs:{src:"http://qmxq.oss-cn-hangzhou.aliyuncs.com/install/update.gif",alt:"更新下载安装中，请稍后"}}),a("h3",[t._v("更新下载安装中，请稍后...")]),a("p",[t._v("更新完成前请勿关闭窗口")])]):t._e(),2==t.status?a("div",{staticClass:"update-info"},[a("img",{attrs:{src:"http://qmxq.oss-cn-hangzhou.aliyuncs.com/install/succeed.png",alt:"更新下载安装中，请稍后"}}),a("h4",[t._v(" "+t._s(t.msg||"更新完成")+" ")]),a("p",[a("router-link",{attrs:{to:"/"}},[a("el-button",{attrs:{type:"primary"}},[t._v(" 回到后台首页 ")])],1)],1)]):t._e(),3==t.status?a("div",{staticClass:"update-info"},[a("img",{attrs:{src:"http://qmxq.oss-cn-hangzhou.aliyuncs.com/install/error.png",alt:"更新下载安装中，请稍后"}}),a("h4",[t._v(" "+t._s(t.msg||"更新遇到未知错误，请重试")+" ")]),a("p",[a("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.updateSystem(t.token)}}},[t._v("点此重试")])],1)]):t._e()])])],1)])},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"le-header flex align-center"},[e("img",{staticClass:"le-header-log",attrs:{src:a("9ef1"),alt:""}}),e("div",{staticClass:"le-header-name"},[t._v("LEADSHOP一键更新")])])}],i=a("4d63"),c=a("7736"),o=a("73ef"),u=a.n(o),l={name:"changelog",computed:Object(i["a"])({},Object(c["c"])({getStore:"setting/getStore"})),data:function(){return{status:1,msg:"",token:""}},methods:{updateSystem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.status=1;var s=this,a=window.location.origin;u()({method:"GET",url:a+"/install.php?_update=1&_token="+t}).then((function(t){var a=t.data;0===a.code?s.status=2:2===a.code?(s.status=2,s.msg=a.msg||"已是最新版本"):(s.status=3,s.msg=a.msg||"网络错误，请刷新后重试")})).catch((function(t){s.status=3,s.msg="网络错误，请刷新后重试"}))}},mounted:function(){var t=this;this.$heshop.cloud("post",{action:"update"}).then((function(s){t.token=s,t.updateSystem(s)})).catch((function(s){t.status=3,t.msg="网络错误，请刷新后重试"}))}},r=l,d=(a("a776"),a("cba8")),h=Object(d["a"])(r,e,n,!1,null,"5b0082aa",null);s["default"]=h.exports},a776:function(t,s,a){"use strict";a("eb09")},eb09:function(t,s,a){}}]);